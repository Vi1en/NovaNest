customElements.get("dbtfy-product-tab")||customElements.define("dbtfy-product-tab",class extends HTMLElement{constructor(){if(super(),this.productTab=this.querySelectorAll(".dbtfy-product-tab-block"),this.displayType=this.dataset.displayType,this.block=this.dataset.block,this.block=="false")this.content=document.querySelector("product-info .dbtfy-product-tabs");else{const separteSection=document.querySelector(".dbtfy-product-tabs.shown-as-separate");separteSection&&(separteSection.classList.remove("hidden"),this.content=document.querySelector(".dbtfy-product-tabs.shown-as-separate .d-grid"),this.displayType=="horizontal"&&document.querySelectorAll(".dbtfy-product-tab").forEach(element=>{element.classList.add("dbtfy-product-tabs-horizontal")}))}this.displayType=="horizontal"?(this.horizontalselector=document.querySelectorAll("dbtfy-product-tab-horizontal"),this.horizontalselector.forEach(element=>{element.setAttribute("data-display-type",this.displayType)})):(this.verticalSelector=document.querySelectorAll(".dbtfy-product-tab-block"),this.verticalSelector.forEach(element=>{element.classList.add("grid--12-col")})),this.testMode=Shopify.designMode}disconnectedCallback(){this.testMode&&this.selectEvent()}connectedCallback(){this.testMode?(this.selectEvent=subscribe(PUB_SUB_EVENTS.shopifyEventBlockSelect,e=>{e.detail.blockId==="widget-product-tabs"&&this.init()}),this.init()):this.init()}init(){if(this.content){this.content.innerHTML="",this.content.classList.remove("hidden");const product_id=this.content.dataset.product;if(this.displayType=="horizontal"&&this.block=="true"){document.querySelector(".shown-as-separate").classList.add("dbtfy-product-tab--horizontal-active"),this.content=document.querySelector(".dbtfy-product-tabs--description"),this.productTab=document.querySelectorAll(".product-tab-content"),this.productTab.length>0&&(this.productTab[0].classList.remove("hidden"),this.productTab.forEach(productTab=>{this.content.contains(productTab)||this.content.append(productTab)}));let htmlGet="";document.querySelectorAll(".dbtfy-product-tab-block").forEach(element=>{element.querySelector(".summary-icon-caret").remove(),htmlGet+=element.outerHTML,element.remove()}),document.querySelector(".dbtfy-product-tabs--title").innerHTML=htmlGet,document.querySelectorAll(".dbtfy-product-tabs--title .dbtfy-product-tab-block").length>0&&document.querySelectorAll(".dbtfy-product-tabs--title .dbtfy-product-tab-block")[0].querySelector(".product-tab-details").classList.add("product-tab-active")}else this.productTab&&this.productTab.forEach(productTab=>{(!product_id||!productTab.dataset.product||productTab.dataset.product==product_id)&&this.content.append(productTab)})}document.querySelectorAll(".product-tab-details").forEach(summary=>{summary.addEventListener("click",()=>{const contentId=summary.getAttribute("data-id").replace("title","content"),content=document.querySelector(`.product-tab-content[data-id="${contentId}"]`);document.querySelectorAll(".product-tab-content").forEach(otherContent=>{otherContent!==content&&otherContent.classList.add("hidden")}),content.classList.toggle("hidden"),document.querySelectorAll(`.dbtfy-product-tabs  .product-tab-details:not([data-id="${contentId}"])`).forEach(otherSummary=>{otherSummary.classList.remove("product-tab-active")}),summary.classList.toggle("product-tab-active")})}),document.querySelector(".product-rating-badge")?.addEventListener("click",function(){const targetDiv=document.getElementById("prouct-tab-review"),offsetPosition=targetDiv.getBoundingClientRect().top+window.pageYOffset-100;window.scrollTo({top:offsetPosition,behavior:"smooth"});const productTabDetails=targetDiv.querySelector(".product-tab-details");productTabDetails.classList.contains("product-tab-active")||productTabDetails.click()})}});
//# sourceMappingURL=/s/files/1/0643/2004/5130/t/2/assets/dbtfy-product-tab.js.map?v=20959775572441616041744962461
