const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["context-slice-translator-DQiv2irfNfv6.js","router-BKsx5XGJJQi4.js","common-DitQeQ0j_r2n.js","context-slice-graphql-DcLCrrDYIdZM.js","context-slice-extensibility-B6zAJ1XLhi3u.js","context-slice-atlas-BgqTQtz0GhND.js","context-slice-newReportify-C25NZmEmn5JR.js","context-slice-metrics-BWUs7LtuAZb4.js","context-slice-manifestFetch-DKxw7Bw_XCIb.js","render-common-DAO65Ch0D-RI.js","assets/render-common-B3wSOgbQb0az.css"])))=>i.map(i=>d[i]);
var Gn=Object.defineProperty;var Yt=s=>{throw TypeError(s)};var zn=(s,t,n)=>t in s?Gn(s,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):s[t]=n;var x=(s,t,n)=>zn(s,typeof t!="symbol"?t+"":t,n),Zt=(s,t,n)=>t.has(s)||Yt("Cannot "+n);var U=(s,t,n)=>(Zt(s,t,"read from private field"),n?n.call(s):t.get(s)),Le=(s,t,n)=>t.has(s)?Yt("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(s):t.set(s,n);var ye=(s,t,n)=>(Zt(s,t,"access private method"),n);import{C as pt,a as F,bJ as Kn,bK as ne,bL as Qn,bM as Xn,bN as V,F as Wn,V as pr,bO as Jn,bP as Yn,U as Zn,M as oe,bQ as ea,bR as ta,bS as ra,bT as De,bB as na,bU as aa,a3 as hr,bV as ia,_ as W,bW as sa,bX as q,bY as oa,bZ as gr,m as ua,G as ca,o as la,b_ as ot,X as ht,b$ as da,S as er,Q as fa,r as pa,p as ae,w as ha,c0 as ga,c1 as ma,c2 as va,c3 as gt,l as mr,O as _a,aU as vr,c4 as ya,K as Sa,B as tr,bD as qe,c5 as mt,c6 as ut,c7 as rr,c8 as Ea,c9 as ba,ca as wa,cb as Aa,cc as La,aO as Pa,cd as Ra,ce as Oa,cf as Ca,cg as Ta,N as Ia,ch as _r,ci as Na,aJ as Ma,cj as ka,ck as yr,cl as Da,cm as xa,cn as Fe,ac as qa,co as Fa,cp as $a,cq as Ua,cr as Ba,cs as Ha,ct as ja,cu as Va,cv as Ga,cw as za,cx as Ka,cy as nr,cz as Qa,cA as Xa,E as tt,D as Wa,cB as Ja,cC as Ya,cD as Za}from"../common-DitQeQ0j_r2n.js";if(typeof window<"u"){String.prototype.replaceAll||(String.prototype.replaceAll=function(t,n){let o=this;for(;o!==(o=o.replace(t,n)););return o}),String.prototype.at||(String.prototype.at=function(t){return this.slice(t,t+1)}),self.setImmediate||(self.setImmediate=setTimeout,self.clearImmediate=clearTimeout),self.requestIdleCallback||(self.requestIdleCallback=setTimeout,self.cancelIdleCallback=clearTimeout),Object.hasOwn||(Object.hasOwn=Function.prototype.call.bind(Object.prototype.hasOwnProperty)),String.prototype.matchAll||(String.prototype.matchAll=function(t){const n=new RegExp(t,t.flags||"g");let o;const c=[];for(;o=n.exec(this);)c.push(o);return c}),Array.prototype.at||(Array.prototype.at=function(t){return t<0&&(t+=this.length),this[t]});const s=Object.getPrototypeOf(Uint8Array.prototype);s.at||(s.at=function(t){return t<0&&(t+=this.length),this[t]}),Promise.any||(Promise.any=function(t){return new Promise((n,o)=>{let c=0,f;function u(d){f=f||d,--c||o(f)}for(const d of t)Promise.resolve(d,++c).then(n,u)})}),URL.parse||(URL.parse=(t,n)=>{try{return new URL(String(t),n===void 0?void 0:String(n))}catch{return null}}),URL.canParse||(URL.canParse=(t,n)=>URL.parse(t,n)!=null)}const ei=console.error.bind(console),ti=console.warn.bind(console),Sr=[/this component is not accepted by Hot Loader/,/Report not sent due to releaseStage/];console.error=(...s)=>{const[t,n]=s;typeof t=="string"&&Sr.some(o=>o.test(t))||typeof t=="string"&&/React does not recognize/.test(t)&&n==="testID"||ei(...s)};console.warn=(...s)=>{const[t]=s;typeof t=="string"&&Sr.some(n=>n.test(t))||ti(...s)};if(typeof Node=="function"&&Node.prototype){const s=Node.prototype.removeChild;Node.prototype.removeChild=function(n){return n.parentNode!==this?n:s.apply(this,Array.from(arguments))};const t=Node.prototype.insertBefore;Node.prototype.insertBefore=function(n,o){return o&&o.parentNode!==this?n:t.apply(this,Array.from(arguments))}}const ar="https://web-sourcemaps.shopify.io/";(async()=>{if(pt().isShopifyStaff)try{if(!(await fetch(ar,{credentials:"include"})).ok)throw new Error("not authenticated with source map service")}catch{console.log("%cShopify Developers","font-size: 16px; font-weight: bold; color: #96bf48;"),console.log(["To debug in production, please authenticate with the source map service",`%cAuth: ${ar}`,"Docs: https://github.com/Shopify/web-sourcemaps/blob/main/README.md"].join(`

`),"font-weight: bold;")}})();(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))o(c);new MutationObserver(c=>{for(const f of c)if(f.type==="childList")for(const u of f.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&o(u)}).observe(document,{childList:!0,subtree:!0});function n(c){const f={};return c.integrity&&(f.integrity=c.integrity),c.referrerPolicy&&(f.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?f.credentials="include":c.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function o(c){if(c.ep)return;c.ep=!0;const f=n(c);fetch(c.href,f)}})();class ri extends Qn{lifecycleEvent(t){if(t.type!==Xn.TimeToLastByte)return super.lifecycleEvent(t)}}const ni=F(({ensure:s,registerCleanup:t})=>new ri(o=>{let c;s(["router"]).then(({router:f})=>{const u=f.subscribe(d=>{d.navigation.state==="loading"&&c!==d.navigation.location.pathname&&(c=d.navigation.location.pathname,o.start({target:c}))});t(()=>{u()})}).catch(f=>{throw f}),o.on("navigation",async f=>{if(f.result!==Kn.Finished)return;const u=Math.max(0,performance.now()-f.timeToComplete);ne("navigation_usable",{start:u,duration:f.timeToUsable}),ne("navigation_complete",{start:u,duration:f.timeToComplete})})})),ai=[Wn,pr,Jn,Yn,Zn];class ii{constructor(t){x(this,"ensure");x(this,"initTime",performance.now());x(this,"observer",null);x(this,"skipPageStableMetricsEmission",!1);x(this,"pageLoadComplete",!1);x(this,"navigationStartAt",0);x(this,"intervalId");x(this,"routerStates",[]);x(this,"isUserInputDetected",!1);x(this,"redirectNavigationStartAt");x(this,"loadingEndAt");x(this,"pageStableAt");x(this,"routerLoadersStartAt");x(this,"routerLoadersEndAt");x(this,"navigationContext",{});x(this,"entryCollection",{});x(this,"pageStableDurationListeners",[]);x(this,"pageLoaderDurationListeners",[]);x(this,"routeTimings",new Map);x(this,"visitedRoutes",new Set);x(this,"flagLabelCache",null);x(this,"_isIdle",!1);x(this,"idlePromise",null);x(this,"idlePromiseResolve",null);x(this,"errorState",null);this.ensure=t,this.recordAdminLoadedMetric(),this.reset()}get isIdle(){return this._isIdle}async waitUntilIdle(){if(!this._isIdle)return this.idlePromise||(this.idlePromise=new Promise(t=>{this.idlePromiseResolve=t})),this.idlePromise}reset(t=0,n){this.navigationStartAt=t,this.checkForInterruptedNavigation(),this.cleanup(),n&&this.routerStates.push(n),this.checkNavigationComplete(),this.resetPerformanceObserver()}addRouteTimings(t,n,o,c){this.routeTimings.has(t)||this.routeTimings.set(t,{});const f=this.routeTimings.get(t);f&&!f[n]&&(f[n]={start:o,end:c})}redirect(t){this.routerStates.push(t),this.redirectNavigationStartAt||(this.redirectNavigationStartAt=performance.now())}setSkipPageStableMetricsEmission(t){this.skipPageStableMetricsEmission=t}setNavigationContext(t){this.navigationContext={...this.navigationContext,...t}}loadingFinished(){this.loadingEndAt||(this.loadingEndAt=performance.now())}addPageStableDurationListener(t){this.pageStableDurationListeners.push(t),t(this.pageStableDuration)}removePageStableDurationListener(t){this.pageStableDurationListeners=this.pageStableDurationListeners.filter(n=>n!==t)}addPageLoaderDurationListener(t){this.pageLoaderDurationListeners.push(t),t(this.pageLoaderDuration)}removePageLoaderDurationListener(t){this.pageLoaderDurationListeners=this.pageLoaderDurationListeners.filter(n=>n!==t)}markPageViewError(t){t<400||(this.errorState={statusCode:t})}setPageViewErrorReported(t){this.errorState&&(this.errorState.errorReported=t)}get pageViewStatusCode(){var t;return((t=this.errorState)==null?void 0:t.statusCode)??200}get pageStableDuration(){if(this.pageStableAt)return this.pageStableAt-this.navigationStartAt}get pageLoaderDuration(){let t;typeof this.prefetchingEndAt<"u"&&typeof this.prefetchingStartAt<"u"&&(t=this.prefetchingEndAt-this.prefetchingStartAt);let n;return typeof this.routerLoadersStartAt<"u"&&typeof this.routerLoadersEndAt<"u"&&(n=this.routerLoadersEndAt-this.routerLoadersStartAt),t??n}setReactLoadersMarkers(t,n){typeof this.routerLoadersStartAt>"u"&&typeof this.routerLoadersEndAt>"u"&&(this.routerLoadersStartAt=t,this.routerLoadersEndAt=n,this.pageLoaderDurationListeners.forEach(o=>o(this.pageLoaderDuration)))}get prefetchingStartAt(){var n;let t=1/0;for(const o of this.routeTimings.values())(n=o.prefetch)!=null&&n.start&&(t=Math.min(t,o.prefetch.start));return t===1/0?void 0:t}get prefetchingEndAt(){var n;let t=0;for(const o of this.routeTimings.values())(n=o.prefetch)!=null&&n.end&&(t=Math.max(t,o.prefetch.end));return t===0?void 0:t}get aggregateLoaderDuration(){const t=this.navigationContext.matches,c=Array.from(this.routeTimings.entries()).filter(([d])=>t==null?void 0:t.some(h=>h.route.id===d)).map(([d,h])=>h);if(c.length===0)return;const f=c.flatMap(d=>{var h,m,E,y;return[(h=d.componentAssets)==null?void 0:h.start,(m=d.loaderAssets)==null?void 0:m.start,((E=d.prefetch)==null?void 0:E.start)??((y=d.loader)==null?void 0:y.start)].filter(Boolean)}),u=c.flatMap(d=>{var h,m,E,y;return[(h=d.componentAssets)==null?void 0:h.end,(m=d.loaderAssets)==null?void 0:m.end,((E=d.prefetch)==null?void 0:E.end)??((y=d.loader)==null?void 0:y.end)].filter(Boolean)});if(!(f.length===0||u.length===0))return{start:Math.min(...f,this.routerLoadersStartAt??1/0),end:Math.max(...u)}}get navigationStart(){return V(this.navigationStartAt)}get browserBackgroundedAt(){var t,n;return(n=(t=this.entryCollection.visibilityState)==null?void 0:t.filter(o=>o.name==="hidden")[0])==null?void 0:n.startTime}get firstRedirectRouterState(){return this.routerStates.filter(t=>{var n,o;return(o=(n=t.navigation.location)==null?void 0:n.state)==null?void 0:o._isRedirect})[0]}get delayMetrics(){const n=Math.max(this.initTime,this.navigationStartAt);return performance.now()-n<2500}cleanup(){this.pageLoadComplete=!1,clearInterval(this.intervalId),this.entryCollection={},this.routerStates=[],this.isUserInputDetected=!1,this.redirectNavigationStartAt=void 0,this.loadingEndAt=void 0,this.navigationContext={},this.routerLoadersStartAt=void 0,this.routerLoadersEndAt=void 0,this.pageStableDurationListeners.forEach(t=>t()),this.pageLoaderDurationListeners.forEach(t=>t()),this.errorState=null,this._isIdle=!1,this.idlePromise=null,this.idlePromiseResolve=null}resetPerformanceObserver(){var t;(t=this.observer)==null||t.disconnect(),this.observer=new PerformanceObserver(this.collectPerformanceEntries.bind(this)),this.observer.observe({entryTypes:["first-input","layout-shift","resource","visibility-state"]})}async getFlagLabels(){if(this.flagLabelCache!==null)return this.flagLabelCache;const{flags:t}=await this.ensure(["flags"]),n={};for(const o of ai)n[`flag_${o}_enabled`]=t.get(o);return this.flagLabelCache=n,n}async recordAdminLoadedMetric(){const{metrics:t}=await this.ensure(["metrics"]);t.record(oe.AdminLoaded,1)}createSpansForRouteTimings(){var t,n,o,c,f,u,d,h,m,E;for(const[y,_]of this.routeTimings.entries())(t=_.loader)!=null&&t.end&&((n=_.loader)!=null&&n.start)&&ne(`loader(${y})`,{end:_.loader.end,start:_.loader.start}),(o=_.componentAssets)!=null&&o.end&&((c=_.componentAssets)!=null&&c.start)&&ne(`componentAssets(${y})`,{end:_.componentAssets.end,start:_.componentAssets.start}),(f=_.loaderAssets)!=null&&f.end&&((u=_.loaderAssets)!=null&&u.start)&&ne(`loaderAssets(${y})`,{end:_.loaderAssets.end,start:_.loaderAssets.start}),(d=_.actionAssets)!=null&&d.end&&((h=_.actionAssets)!=null&&h.start)&&ne(`actionAssets(${y})`,{end:_.actionAssets.end,start:_.actionAssets.start}),(m=_.prefetch)!=null&&m.end&&((E=_.prefetch)!=null&&E.start)&&ne(`prefetch(${y})`,{end:_.prefetch.end,start:_.prefetch.start})}checkNavigationComplete(){this.intervalId=setInterval(async()=>{var u,d,h,m,E,y,_,b,C;((u=this.entryCollection.firstInput)==null?void 0:u[0])&&(this.isUserInputDetected=!0);const n=(h=(d=this.entryCollection.resource)==null?void 0:d.filter(({initiatorType:R,name:I})=>!["beacon","iframe"].includes(R)&&!I.includes("type=mutation")))==null?void 0:h.at(-1),o=!n||ea(n),c=!ta();if(o&&c&&this.loadingEndAt){n&&this.createSpan("resource_complete",n);const R=(m=this.entryCollection.graphqlQueries)==null?void 0:m.at(-1);R&&this.createSpan("graphql_queries_complete",R);const I=(E=this.entryCollection.images)==null?void 0:E.at(-1);I&&this.createSpan("images_complete",I);const D=(y=this.entryCollection.scripts)==null?void 0:y.at(-1);D&&this.createSpan("scripts_complete",D);const H=(_=this.entryCollection.layoutShift)==null?void 0:_.at(0);H&&this.createSpan("first_layout_shift",H);const K=(b=this.entryCollection.layoutShift)==null?void 0:b.at(-1);K&&this.createSpan("layout_shift_complete",K);const te=(C=this.entryCollection.layoutShift)==null?void 0:C.sort((re,Z)=>Z.value-re.value).at(0);te&&this.createSpan("largest_layout_shift",te);const J=ra([R,I,D],K),ee=De(J)?J.responseEnd:(J==null?void 0:J.paintTime)??0;if(J&&this.createSpan("page_load_complete",J,ee),!ee&&this.delayMetrics)return;const se=this.navigationContext.normalizedPathname??"unknown",Y=!this.visitedRoutes.has(se);Y&&this.visitedRoutes.add(se),this.emitMetrics({isCancelledNavigation:!1,firstFramePaintedAt:V(H==null?void 0:H.paintTime),graphqlQueriesEndAt:V(R==null?void 0:R.responseEnd),imagesEndAt:V(I==null?void 0:I.responseEnd),scriptsEndAt:V(D==null?void 0:D.responseEnd),layoutShiftEndAt:V(K==null?void 0:K.paintTime),pageStableAt:V(ee)},{isFirstExecution:Y,largestLayoutShiftEndAt:V(te==null?void 0:te.startTime)}),this.pageStableAt=ee,this.pageStableDurationListeners.forEach(re=>re(this.pageStableDuration)),this.pageLoadComplete=!0,clearInterval(this.intervalId)}},250)}createSpan(t,n,o){ne(t,{start:this.navigationStartAt,end:o??(De(n)?n.responseEnd:n.paintTime)})}collectPerformanceEntries(t){this.entryCollection.graphqlQueries||(this.entryCollection.graphqlQueries=[]),this.entryCollection.scripts||(this.entryCollection.scripts=[]),this.entryCollection.images||(this.entryCollection.images=[]);for(const n of t.getEntries()){const o=na(n.entryType);this.entryCollection[o]||(this.entryCollection[o]=[]),!((De(n)?n.responseEnd:n.startTime)<this.navigationStartAt)&&(o==="layoutShift"?this.addLayoutShiftEntry(n):this.entryCollection[o].push(n),De(n)&&(n.initiatorType==="fetch"&&/\/api\/shopify.+type=query|\/queries/.test(n.name)?this.entryCollection.graphqlQueries.push(n):n.initiatorType==="script"?this.entryCollection.scripts.push(n):n.initiatorType==="img"&&this.entryCollection.images.push(n)))}}addLayoutShiftEntry(t){requestAnimationFrame(()=>{requestAnimationFrame(()=>{var o;const n=performance.now();t.paintTime=n,(o=this.entryCollection.layoutShift)==null||o.push(t)})})}checkForInterruptedNavigation(){!this.pageLoadComplete&&this.navigationStartAt&&this.emitMetrics({isCancelledNavigation:!0,navigationCancelledAt:V(performance.now())})}async emitMetrics(t,n={isFirstExecution:!1}){var D,H,K,te,J,ee;this.createSpansForRouteTimings();const{browser:o,metrics:c,monorail:f,serverData:u}=await this.ensure(["browser","metrics","monorail","serverData"]);this.loadingEndAt&&ne("loading_complete",{start:this.navigationStartAt,end:this.loadingEndAt});const d=V(this.navigationStartAt),h=this.navigationStartAt===0,m=!!this.firstRedirectRouterState,E=this.pageViewStatusCode,y=h&&document.referrer?document.referrer:void 0,{manifestRouteId:_,normalizedPathname:b,previousNormalizedPathname:C,sliceName:R}=this.navigationContext;if(!t.isCancelledNavigation){const se=await this.getFlagLabels(),Y={isFullPageNavigation:h,isRedirectNavigation:m,slice:R??"unknown",manifestRouteId:_??"unknown",normalizedPathname:b??"unknown",...se};for(const[Z,Q]of this.routeTimings.entries())Q.loaderAssets&&c.record(oe.PageLoaderAssetsDuration,Math.round(Q.loaderAssets.end-Q.loaderAssets.start),{...Y,manifestRouteId:Z}),Q.componentAssets&&c.record(oe.PageComponentAssetsDuration,Math.round(Q.componentAssets.end-Q.componentAssets.start),{...Y,manifestRouteId:Z});if(typeof this.loadingEndAt<"u"){if(n.isFirstExecution){const Q=this.aggregateLoaderDuration;Q&&(ne("aggregate_loader_duration",{start:Q.start,end:Q.end}),c.record(oe.PageAggregateLoaderDuration,Math.round(Q.end-Q.start),{...Y,isFirstExecution:n.isFirstExecution}))}let Z="none";this.prefetchingEndAt&&(Z=this.prefetchingEndAt<=this.navigationStartAt?"full":"partial"),c.record(oe.PageBlockingLoaderDuration,Math.round(this.loadingEndAt-this.navigationStartAt),{...Y,isFirstExecution:n.isFirstExecution,prefetched:Z}),this._isIdle=!0,(D=this.idlePromiseResolve)==null||D.call(this)}const re={...Y,statusCode:E,errorReported:(H=this.errorState)==null?void 0:H.errorReported};c.record(oe.PageView,1,re),typeof t.pageStableAt<"u"&&!this.skipPageStableMetricsEmission&&c.record(oe.PageViewStableDuration,t.pageStableAt-d,re),typeof n.largestLayoutShiftEndAt<"u"&&c.record(oe.PageLargestLayoutShiftDuration,n.largestLayoutShiftEndAt-d,re)}const I={browserBackgroundedAt:V(this.browserBackgroundedAt),connectionType:ia(),deployStage:u.deployStage,identityUuid:hr(),isFullPageNavigation:h,isMobileWebviewNavigation:aa(o),isRedirectNavigation:m,isStoreAdminPage:!0,isUserInputDetected:this.isUserInputDetected,loadingStartAt:V(this.routerLoadersStartAt),loadingEndAt:V(this.loadingEndAt),isFirstLoaderExecution:n.isFirstExecution,navigationStartAt:d,normalizedPathname:b,pathname:window.location.pathname,prefetchingEndAt:V(this.prefetchingEndAt),prefetchingStartAt:V(this.prefetchingStartAt),previousNormalizedPathname:C,previousPathname:(te=(K=this.routerStates[0])==null?void 0:K.location)==null?void 0:te.pathname,redirectNavigationPathname:(ee=(J=this.firstRedirectRouterState)==null?void 0:J.location)==null?void 0:ee.pathname,redirectNavigationStartAt:V(this.redirectNavigationStartAt),referrer:y,sliceName:R,statusCode:E,...t};this.skipPageStableMetricsEmission||f.produce({schemaId:"admin_navigation_performance/2.5",payload:I}),this.routeTimings.clear()}}const si=F(({ensure:s})=>{const t=new ii(s);let n;return s(["router"]).then(({router:o})=>{o.subscribe(c=>{var f,u;if(c.navigation.state==="loading"&&c.location.pathname!==c.navigation.location.pathname)(f=c.navigation.location.state)!=null&&f._isRedirect?t.redirect(c):t.reset(performance.now(),c),n=(u=o.getRouteInfo())==null?void 0:u.pathPattern;else if(c.navigation.state==="idle"){const{pathPattern:d,manifestRouteId:h,sliceName:m}=o.getRouteInfo();t.setNavigationContext({manifestRouteId:h,normalizedPathname:d,previousNormalizedPathname:n,sliceName:m,matches:c.matches}),t.loadingFinished(),t.setSkipPageStableMetricsEmission(c.matches.some(({route:E})=>["online-store:parent","apps:old_app_parent"].includes(E.id)))}})}).catch(o=>{throw o}),t}),oi=F(({ensure:s})=>{const t=q([]);let n=0;const o=new Map,c=[];let f;s(["i18n","locale"]).then(async d=>{const{getTranslatorFromContext:h}=await W(async()=>{const{getTranslatorFromContext:m}=await import("../context-slice-translator-DQiv2irfNfv6.js");return{getTranslatorFromContext:m}},__vite__mapDeps([0,1,2]));f=h(d)}).catch(d=>{throw d});const u={get list(){return t.value},show(d){f&&ir(d,f)&&t.value.filter(h=>ir(h,f)).length||typeof d.id<"u"&&t.value.find(h=>h.id===d.id)||(d.id=d.id??String(++n),t.value=t.value.concat(d))},hide(d){d?t.value=t.value.filter(h=>d.id!==h.id):t.value=[]},setActionOptions(d,h){o.set(d,h)},clearActionOptions(d){o.delete(d)}};return s(["router"]).then(({router:d})=>{d.subscribe(({navigation:h,actionData:m})=>{h.state==="submitting"?c.length=0:Object.keys(m??{}).forEach(E=>{const y=m==null?void 0:m[E];if(y!=null&&y.notification&&!c.find(_=>sa(y.notification,_))){const _={content:y.notification.content,error:y.notification.error,tone:y.notification.defaultTone},b=y.notification.key;let C=_;b&&o.has(b)&&(C={..._,...o.get(b)}),u.show(C),c.push(y.notification)}})})}).catch(d=>{throw d}),u});function ir({error:s,content:t},n){return s&&(t===n.translate("Common.serverError")||t===n.translate("Common.maskedDataMutationError"))}function ui({fetch:s,middleware:t}){return new ci(s,t)}class ci{constructor(t,n){x(this,"middleware");x(this,"fetch");this.middleware=n,typeof t=="function"?this.fetch=t:this.fetch=oa(t)}query(t,{variables:n}={}){return(async()=>{try{return await this.run(t,{variables:n})}finally{}})()}async run(t,{variables:n}={}){const o=await this.fetch({document:t,variables:n??{}},this.middleware);if(o instanceof gr)throw o;const{data:c,error:f}=o;return c?{data:c}:{error:f}}}const li=ht(403),di=ht(401),fi=ht(404);function pi(s,t,n){if(!(n&&s instanceof Error&&n(s))&&s instanceof gr){const o=ua(s.response,s.responseText);if(o instanceof ca){const c=la(o);return t(c,o.reason),o}}}const hi=s=>{if(s instanceof ot){const t=s==null?void 0:s.response.status,n=s==null?void 0:s.responseText;return t===fi||t===li&&n!=="CSRF"||t===di&&n.includes("[TFA]")}return!1};function gi(s,t){if(s instanceof Error&&!(s instanceof ot)||!s.context)return;const{request:n,stats:o}=s.context;let c;s instanceof ot?c=s.response:c=s.context.response;const f=!(s instanceof Error)&&typeof s.data=="object",u=f?s.extensions:void 0,d=s!=null&&!(s instanceof Error)&&s.error&&s.error instanceof da?s.error.errors.map(({message:_,path:b,extensions:C})=>({message:_,path:b&&Array.isArray(b)?b.join(","):void 0,extensions:C})):void 0,h=c instanceof Response&&c.headers.get(er.RequestId)||void 0,m=c instanceof Response&&c.headers.get(er.Profile)||void 0,E=c instanceof Response?c.status:void 0,y=c instanceof Response?c.url:void 0;t({graphQLClientType:"GraphQL-Lite",name:n.operationName??"Unknown",url:y,status:E,success:f,errorResponse:s!=null&&s instanceof Error&&s,errors:d,requestId:h,duration:o.duration,start:o.start,end:o.end,resultLength:f?JSON.stringify(s).length:void 0,extensions:u,request:{query:n.document,variables:n.variables},profileUrl:m})}const mi=F(({serverData:s,unified:t,errorLogger:n,performance:o})=>{const c=s.isUnifiedApp,f=fa({name:"core",apiEndpointPath:c?`/api/shopify/${t.storeHandle}`:"/admin/internal/web/graphql/core",host:location.hostname,csrfToken:s.csrfToken,getRedirectUrl(h){var m;if(c){const E=new URLSearchParams,y=(m=s==null?void 0:s.identityUser)==null?void 0:m.email;return y&&E.append("login_hint",y),E.append("returnPath",location.pathname),E.append("errorHint","client_api_error"),`/login?${E.toString()}`}return typeof h=="string"?h:h(encodeURIComponent(location.href))},errorLogger:n,performance:o}),u=pa({csrfToken:s.csrfToken,buildVersion:s.buildVersion});return ui({fetch:{uri:`https://${f.host}${f.apiEndpointPath}`,headers:u},middleware:{response:h=>{gi(h,f.onOperation),pi(h,f.onRedirect,hi)}}})}),vi=F(()=>{const s=q(0),t=q(0),n=q(0),o=q(null),c=ae(()=>s.value>0),f=ae(()=>{const h=s.value+n.value,m=h-s.value;return h&&m/h});let u;function d(){clearTimeout(u),s.value=0,n.value=0,t.value=0,o.value=null}return{get loading(){return c.value},get polarisLoadingStack(){return t.value},get progress(){return f.value},get loadInitiated(){return o.value},incrementPolarisLoadingStack(){t.value++},decrementPolarisLoadingStack(){t.value--},setLoadInitiated(h){o.value=h},start(){clearTimeout(u),s.value++,o.value=Date.now()},stop(){const h=s.value-1;h<0||(n.value++,s.value=h,h===0&&(u=setTimeout(d,100)))},reset:d}}),_i=F(()=>{const s=q([]);return{get globallyDismissedHomeItemHandles(){return s.value},dismissHomeItemGlobally(t){s.value.includes(t)||(s.value=[...s.value,t])},undoDismissHomeItemGlobally(t){s.value=s.value.filter(n=>n!==t)}}}),yi=F(()=>{const s=q([]),t=q(!1);function n(o,c){const f={...o};for(const u in c)c[u]&&(f[u]=c[u]);return f}return{add(o){const c=s.value.slice(),f=c.findIndex(u=>u.id===o.id);f>=0?c[f]={...c[f],...o}:c.push(o),s.value=c},update(o,c){s.value=s.value.map(f=>(f.id===o&&(f.status=n(f.status,c)),f))},remove(o){s.value=s.value.filter(c=>!o(c))},removeById(o){s.value=s.value.filter(c=>c.id!==o)},get items(){return s.value},expand(){t.value=!1},collapse(){t.value=!0},get isCollapsed(){return t.value}}}),Si=()=>{const s=q(!1),t=q(!1),n=q([]);return{get activeSidebar(){return n.value[n.value.length-1]},get isExpanded(){return this.activeSidebar!==void 0&&!s.value},get isHidden(){return s.value},get isResizing(){return t.value},open(o){n.value=[...n.value.filter(c=>c!==o),o]},close(o){const c=n.value.filter(f=>f!==o);c.length!==n.value.length&&(n.value=c)},show(){s.value=!1},hide(){s.value=!0},toggleResizing(o){typeof o>"u"?t.value=!t.value:t.value=o}}},Ei=F(Si);var rt={exports:{}},sr;function bi(){return sr||(sr=1,function(s,t){(function(n){s.exports=n()})(function(){var n=["navigation","request","process","log","user","state","error","manual"],o=function(e,r,i){for(var a=i,l=0,p=e.length;l<p;l++)a=r(a,e[l],l,e);return a},c=function(e,r){return o(e,function(i,a,l,p){return r(a,l,p)?i.concat(a):i},[])},f=function(e,r){return o(e,function(i,a,l,p){return i===!0||a===r},!1)},u=function(e){return Object.prototype.toString.call(e)==="[object Array]"},d=!{toString:null}.propertyIsEnumerable("toString"),h=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],m=function(e){var r=[],i;for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&r.push(i);if(!d)return r;for(var a=0,l=h.length;a<l;a++)Object.prototype.hasOwnProperty.call(e,h[a])&&r.push(h[a]);return r},E=function(e,r){return e===void 0&&(e=1),function(i){return typeof i=="number"&&parseInt(""+i,10)===i&&i>=e&&i<=r}},y=function(e){return typeof e=="function"||u(e)&&c(e,function(r){return typeof r=="function"}).length===e.length},_=function(e){return typeof e=="string"&&!!e.length},b={},C=function(){return{unhandledExceptions:!0,unhandledRejections:!0}};b.schema={apiKey:{defaultValue:function(){return null},message:"is required",validate:_},appVersion:{defaultValue:function(){},message:"should be a string",validate:function(e){return e===void 0||_(e)}},appType:{defaultValue:function(){},message:"should be a string",validate:function(e){return e===void 0||_(e)}},autoDetectErrors:{defaultValue:function(){return!0},message:"should be true|false",validate:function(e){return e===!0||e===!1}},enabledErrorTypes:{defaultValue:function(){return C()},message:"should be an object containing the flags { unhandledExceptions:true|false, unhandledRejections:true|false }",allowPartialObject:!0,validate:function(e){if(typeof e!="object"||!e)return!1;var r=m(e),i=m(C());return!(c(r,function(a){return f(i,a)}).length<r.length||c(m(e),function(a){return typeof e[a]!="boolean"}).length>0)}},onError:{defaultValue:function(){return[]},message:"should be a function or array of functions",validate:y},onSession:{defaultValue:function(){return[]},message:"should be a function or array of functions",validate:y},onBreadcrumb:{defaultValue:function(){return[]},message:"should be a function or array of functions",validate:y},endpoints:{defaultValue:function(){return{notify:"https://notify.bugsnag.com",sessions:"https://sessions.bugsnag.com"}},message:"should be an object containing endpoint URLs { notify, sessions }",validate:function(e){return e&&typeof e=="object"&&_(e.notify)&&_(e.sessions)&&c(m(e),function(r){return!f(["notify","sessions"],r)}).length===0}},autoTrackSessions:{defaultValue:function(e){return!0},message:"should be true|false",validate:function(e){return e===!0||e===!1}},enabledReleaseStages:{defaultValue:function(){return null},message:"should be an array of strings",validate:function(e){return e===null||u(e)&&c(e,function(r){return typeof r=="string"}).length===e.length}},releaseStage:{defaultValue:function(){return"production"},message:"should be a string",validate:function(e){return typeof e=="string"&&e.length}},maxBreadcrumbs:{defaultValue:function(){return 25},message:"should be a number ≤100",validate:function(e){return E(0,100)(e)}},enabledBreadcrumbTypes:{defaultValue:function(){return n},message:"should be null or a list of available breadcrumb types ("+n.join(",")+")",validate:function(e){return e===null||u(e)&&o(e,function(r,i){return r===!1?r:f(n,i)},!0)}},context:{defaultValue:function(){},message:"should be a string",validate:function(e){return e===void 0||typeof e=="string"}},user:{defaultValue:function(){return{}},message:"should be an object with { id, email, name } properties",validate:function(e){return e===null||e&&o(m(e),function(r,i){return r&&f(["id","email","name"],i)},!0)}},metadata:{defaultValue:function(){return{}},message:"should be an object",validate:function(e){return typeof e=="object"&&e!==null}},logger:{defaultValue:function(){},message:"should be null or an object with methods { debug, info, warn, error }",validate:function(e){return!e||e&&o(["debug","info","warn","error"],function(r,i){return r&&typeof e[i]=="function"},!0)}},redactedKeys:{defaultValue:function(){return["password"]},message:"should be an array of strings|regexes",validate:function(e){return u(e)&&e.length===c(e,function(r){return typeof r=="string"||r&&typeof r.test=="function"}).length}},plugins:{defaultValue:function(){return[]},message:"should be an array of plugin objects",validate:function(e){return u(e)&&e.length===c(e,function(r){return r&&typeof r=="object"&&typeof r.load=="function"}).length}},featureFlags:{defaultValue:function(){return[]},message:'should be an array of objects that have a "name" property',validate:function(e){return u(e)&&e.length===c(e,function(r){return r&&typeof r=="object"&&typeof r.name=="string"}).length}}};var R=function(e){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e},I=function(e,r){return o(e,function(i,a,l,p){return i.concat(r(a,l,p))},[])};function D(){return D=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e},D.apply(this,arguments)}var H=b.schema,K={releaseStage:R({},H.releaseStage,{defaultValue:function(){return/^localhost(:\d+)?$/.test(window.location.host)?"development":"production"}}),appType:D({},H.appType,{defaultValue:function(){return"browser"}}),logger:R({},H.logger,{defaultValue:function(){return typeof console<"u"&&typeof console.debug=="function"?te():void 0}})},te=function(){var e={},r=console.log;return I(["debug","info","warn","error"],function(i){var a=console[i];e[i]=typeof a=="function"?a.bind(console,"[bugsnag]"):r.bind(console,"[bugsnag]")}),e},J=function(){function e(i,a,l,p){p===void 0&&(p=new Date),this.type=l,this.message=i,this.metadata=a,this.timestamp=p}var r=e.prototype;return r.toJSON=function(){return{type:this.type,name:this.message,timestamp:this.timestamp,metaData:this.metadata}},e}(),ee=J,se={};(function(e,r){typeof se=="object"?se=r():e.StackFrame=r()})(this,function(){function e(w){return!isNaN(parseFloat(w))&&isFinite(w)}function r(w){return w.charAt(0).toUpperCase()+w.substring(1)}function i(w){return function(){return this[w]}}var a=["isConstructor","isEval","isNative","isToplevel"],l=["columnNumber","lineNumber"],p=["fileName","functionName","source"],g=["args"],S=a.concat(l,p,g);function v(w){if(w instanceof Object)for(var T=0;T<S.length;T++)w.hasOwnProperty(S[T])&&w[S[T]]!==void 0&&this["set"+r(S[T])](w[S[T]])}v.prototype={getArgs:function(){return this.args},setArgs:function(w){if(Object.prototype.toString.call(w)!=="[object Array]")throw new TypeError("Args must be an Array");this.args=w},getEvalOrigin:function(){return this.evalOrigin},setEvalOrigin:function(w){if(w instanceof v)this.evalOrigin=w;else if(w instanceof Object)this.evalOrigin=new v(w);else throw new TypeError("Eval Origin must be an Object or StackFrame")},toString:function(){var w=this.getFunctionName()||"{anonymous}",T="("+(this.getArgs()||[]).join(",")+")",k=this.getFileName()?"@"+this.getFileName():"",$=e(this.getLineNumber())?":"+this.getLineNumber():"",O=e(this.getColumnNumber())?":"+this.getColumnNumber():"";return w+T+k+$+O}};for(var L=0;L<a.length;L++)v.prototype["get"+r(a[L])]=i(a[L]),v.prototype["set"+r(a[L])]=function(w){return function(T){this[w]=!!T}}(a[L]);for(var A=0;A<l.length;A++)v.prototype["get"+r(l[A])]=i(l[A]),v.prototype["set"+r(l[A])]=function(w){return function(T){if(!e(T))throw new TypeError(w+" must be a Number");this[w]=Number(T)}}(l[A]);for(var P=0;P<p.length;P++)v.prototype["get"+r(p[P])]=i(p[P]),v.prototype["set"+r(p[P])]=function(w){return function(T){this[w]=String(T)}}(p[P]);return v});var Y={};(function(e,r){typeof Y=="object"?Y=r(se):e.ErrorStackParser=r(e.StackFrame)})(this,function(r){var i=/(^|@)\S+\:\d+/,a=/^\s*at .*(\S+\:\d+|\(native\))/m,l=/^(eval@)?(\[native code\])?$/;return{parse:function(g){if(typeof g.stacktrace<"u"||typeof g["opera#sourceloc"]<"u")return this.parseOpera(g);if(g.stack&&g.stack.match(a))return this.parseV8OrIE(g);if(g.stack)return this.parseFFOrSafari(g);throw new Error("Cannot parse given Error object")},extractLocation:function(g){if(g.indexOf(":")===-1)return[g];var S=/(.+?)(?:\:(\d+))?(?:\:(\d+))?$/,v=S.exec(g.replace(/[\(\)]/g,""));return[v[1],v[2]||void 0,v[3]||void 0]},parseV8OrIE:function(g){var S=g.stack.split(`
`).filter(function(v){return!!v.match(a)},this);return S.map(function(v){v.indexOf("(eval ")>-1&&(v=v.replace(/eval code/g,"eval").replace(/(\(eval at [^\()]*)|(\)\,.*$)/g,""));var L=v.replace(/^\s+/,"").replace(/\(eval code/g,"("),A=L.match(/ (\((.+):(\d+):(\d+)\)$)/);L=A?L.replace(A[0],""):L;var P=L.split(/\s+/).slice(1),w=this.extractLocation(A?A[1]:P.pop()),T=P.join(" ")||void 0,k=["eval","<anonymous>"].indexOf(w[0])>-1?void 0:w[0];return new r({functionName:T,fileName:k,lineNumber:w[1],columnNumber:w[2],source:v})},this)},parseFFOrSafari:function(g){var S=g.stack.split(`
`).filter(function(v){return!v.match(l)},this);return S.map(function(v){if(v.indexOf(" > eval")>-1&&(v=v.replace(/ line (\d+)(?: > eval line \d+)* > eval\:\d+\:\d+/g,":$1")),v.indexOf("@")===-1&&v.indexOf(":")===-1)return new r({functionName:v});var L=/((.*".+"[^@]*)?[^@]*)(?:@)/,A=v.match(L),P=A&&A[1]?A[1]:void 0,w=this.extractLocation(v.replace(L,""));return new r({functionName:P,fileName:w[0],lineNumber:w[1],columnNumber:w[2],source:v})},this)},parseOpera:function(g){return!g.stacktrace||g.message.indexOf(`
`)>-1&&g.message.split(`
`).length>g.stacktrace.split(`
`).length?this.parseOpera9(g):g.stack?this.parseOpera11(g):this.parseOpera10(g)},parseOpera9:function(g){for(var S=/Line (\d+).*script (?:in )?(\S+)/i,v=g.message.split(`
`),L=[],A=2,P=v.length;A<P;A+=2){var w=S.exec(v[A]);w&&L.push(new r({fileName:w[2],lineNumber:w[1],source:v[A]}))}return L},parseOpera10:function(g){for(var S=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,v=g.stacktrace.split(`
`),L=[],A=0,P=v.length;A<P;A+=2){var w=S.exec(v[A]);w&&L.push(new r({functionName:w[3]||void 0,fileName:w[2],lineNumber:w[1],source:v[A]}))}return L},parseOpera11:function(g){var S=g.stack.split(`
`).filter(function(v){return!!v.match(i)&&!v.match(/^Error created at/)},this);return S.map(function(v){var L=v.split("@"),A=this.extractLocation(L.pop()),P=L.shift()||"",w=P.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^\)]*\)/g,"")||void 0,T;P.match(/\(([^\)]*)\)/)&&(T=P.replace(/^[^\(]+\(([^\)]*)\)$/,"$1"));var k=T===void 0||T==="[arguments not available]"?void 0:T.split(",");return new r({functionName:w,args:k,fileName:A[0],lineNumber:A[1],columnNumber:A[2],source:v})},this)}}});var re=Y,Z=function(e,r,i,a){var l=a&&a.redactedKeys?a.redactedKeys:[],p=a&&a.redactedPaths?a.redactedPaths:[];return JSON.stringify(Ur(e,l,p),r,i)},Q=20,Nr=25e3,Mr=8,Ce="...";function kr(e){return e instanceof Error||/^\[object (Error|(Dom)?Exception)\]$/.test(Object.prototype.toString.call(e))}function vt(e){return"[Throws: "+(e?e.message:"?")+"]"}function Dr(e,r){for(var i=0,a=e.length;i<a;i++)if(e[i]===r)return!0;return!1}function xr(e,r){for(var i=0,a=e.length;i<a;i++)if(r.indexOf(e[i])===0)return!0;return!1}function qr(e,r){for(var i=0,a=e.length;i<a;i++)if(typeof e[i]=="string"&&e[i].toLowerCase()===r.toLowerCase()||e[i]&&typeof e[i].test=="function"&&e[i].test(r))return!0;return!1}function Fr(e){return Object.prototype.toString.call(e)==="[object Array]"}function $r(e,r){try{return e[r]}catch(i){return vt(i)}}function Ur(e,r,i){var a=[],l=0;function p(g,S){function v(){return S.length>Mr&&l>Nr}if(l++,S.length>Q||v())return Ce;if(g===null||typeof g!="object")return g;if(Dr(a,g))return"[Circular]";if(a.push(g),typeof g.toJSON=="function")try{l--;var L=p(g.toJSON(),S);return a.pop(),L}catch(M){return vt(M)}var A=kr(g);if(A){l--;var P=p({name:g.name,message:g.message},S);return a.pop(),P}if(Fr(g)){for(var w=[],T=0,k=g.length;T<k;T++){if(v()){w.push(Ce);break}w.push(p(g[T],S.concat("[]")))}return a.pop(),w}var $={};try{for(var O in g)if(Object.prototype.hasOwnProperty.call(g,O)){if(xr(i,S.join("."))&&qr(r,O)){$[O]="[REDACTED]";continue}if(v()){$[O]=Ce;break}$[O]=p($r(g,O),S.concat(O))}}catch{}return a.pop(),$}return p(e,[])}function _t(e,r,i,a){if(typeof i=="string"){a===void 0?a=null:a!==null&&typeof a!="string"&&(a=Z(a));var l=r[i];if(typeof l=="number"){e[l]={name:i,variant:a};return}e.push({name:i,variant:a}),r[i]=e.length-1}}function Br(e,r,i){if(u(r)){for(var a=0;a<r.length;++a){var l=r[a];l===null||typeof l!="object"||_t(e,i,l.name,l.variant)}return e}}function Hr(e){return I(c(e,Boolean),function(r){var i=r.name,a=r.variant,l={featureFlag:i};return typeof a=="string"&&(l.variant=a),l})}function jr(e,r,i){var a=r[i];typeof a=="number"&&(e[a]=null,delete r[i])}var he={add:_t,clear:jr,merge:Br,toEventApi:Hr},Te=function(e){return!!e&&(!!e.stack||!!e.stacktrace||!!e["opera#sourceloc"])&&typeof(e.stack||e.stacktrace||e["opera#sourceloc"])=="string"&&e.stack!==e.name+": "+e.message},Vr=Gr;function Gr(e){switch(Object.prototype.toString.call(e)){case"[object Error]":return!0;case"[object Exception]":return!0;case"[object DOMException]":return!0;default:return e instanceof Error}}var Ie=Vr,zr=function(e,r,i,a){var l;if(r){var p;if(i===null)return yt(e,r);typeof i=="object"&&(p=i),typeof i=="string"&&(p=(l={},l[i]=a,l)),p&&(r==="__proto__"||r==="constructor"||r==="prototype"||(e[r]||(e[r]={}),e[r]=R({},e[r],p)))}},Kr=function(e,r,i){if(typeof r=="string"){if(!i)return e[r];if(e[r])return e[r][i]}},yt=function(e,r,i){if(typeof r=="string"){if(!i){delete e[r];return}r==="__proto__"||r==="constructor"||r==="prototype"||e[r]&&delete e[r][i]}},me={add:zr,get:Kr,clear:yt},Ue={};(function(e,r){typeof Ue=="object"?Ue=r(se):e.StackGenerator=r(e.StackFrame)})(this,function(e){return{backtrace:function(i){var a=[],l=10;typeof i=="object"&&typeof i.maxStackSize=="number"&&(l=i.maxStackSize);for(var p=arguments.callee;p&&a.length<l&&p.arguments;){for(var g=new Array(p.arguments.length),S=0;S<g.length;++S)g[S]=p.arguments[S];/function(?:\s+([\w$]+))+\s*\(/.test(p.toString())?a.push(new e({functionName:RegExp.$1||void 0,args:g})):a.push(new e({args:g}));try{p=p.caller}catch{break}}return a}}});function Be(){return Be=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e},Be.apply(this,arguments)}var de=function(){function e(i,a,l,p,g){l===void 0&&(l=[]),p===void 0&&(p=Wr()),this.apiKey=void 0,this.context=void 0,this.groupingHash=void 0,this.originalError=g,this._handledState=p,this.severity=this._handledState.severity,this.unhandled=this._handledState.unhandled,this.app={},this.device={},this.request={},this.breadcrumbs=[],this.threads=[],this._metadata={},this._features=[],this._featuresIndex={},this._user={},this._session=void 0,this._correlation=void 0,this.errors=[Et(i,a,e.__type,l)]}var r=e.prototype;return r.addMetadata=function(a,l,p){return me.add(this._metadata,a,l,p)},r.setTraceCorrelation=function(a,l){typeof a=="string"&&(this._correlation=Be({traceId:a},typeof l=="string"?{spanId:l}:{}))},r.getMetadata=function(a,l){return me.get(this._metadata,a,l)},r.clearMetadata=function(a,l){return me.clear(this._metadata,a,l)},r.addFeatureFlag=function(a,l){l===void 0&&(l=null),he.add(this._features,this._featuresIndex,a,l)},r.addFeatureFlags=function(a){he.merge(this._features,a,this._featuresIndex)},r.getFeatureFlags=function(){return he.toEventApi(this._features)},r.clearFeatureFlag=function(a){he.clear(this._features,this._featuresIndex,a)},r.clearFeatureFlags=function(){this._features=[],this._featuresIndex={}},r.getUser=function(){return this._user},r.setUser=function(a,l,p){this._user={id:a,email:l,name:p}},r.toJSON=function(){return{payloadVersion:"4",exceptions:I(this.errors,function(a){return R({},a,{message:a.errorMessage})}),severity:this.severity,unhandled:this._handledState.unhandled,severityReason:this._handledState.severityReason,app:this.app,device:this.device,request:this.request,breadcrumbs:this.breadcrumbs,context:this.context,groupingHash:this.groupingHash,metaData:this._metadata,user:this._user,session:this._session,featureFlags:this.getFeatureFlags(),correlation:this._correlation}},e}(),Qr=function(e){var r={file:e.fileName,method:Xr(e.functionName),lineNumber:e.lineNumber,columnNumber:e.columnNumber,code:void 0,inProject:void 0};return r.lineNumber>-1&&!r.file&&!r.method&&(r.file="global code"),r},Xr=function(e){return/^global code$/i.test(e)?"global code":e},Wr=function(){return{unhandled:!1,severity:"warning",severityReason:{type:"handledException"}}},St=function(e){return typeof e=="string"?e:""};function Et(e,r,i,a){return{errorClass:St(e),errorMessage:St(r),type:i,stacktrace:o(a,function(l,p){var g=Qr(p);try{return JSON.stringify(g)==="{}"?l:l.concat(g)}catch{return l}},[])}}function bt(e){return e.cause?[e].concat(bt(e.cause)):[e]}de.getStacktrace=function(e,r,i){if(Te(e))return re.parse(e).slice(r);try{return c(Ue.backtrace(),function(a){return(a.functionName||"").indexOf("StackGenerator$$")===-1}).slice(1+i)}catch{return[]}},de.create=function(e,r,i,a,l,p){l===void 0&&(l=0);var g=At(e,r,a,p),S=g[0],v=g[1],L;try{var A=de.getStacktrace(S,v>0?1+v+l:0,1+l);L=new de(S.name,S.message,A,i,e)}catch{L=new de(S.name,S.message,[],i,e)}if(S.name==="InvalidError"&&L.addMetadata(""+a,"non-error parameter",wt(e)),S.cause){var P,w=bt(S).slice(1),T=I(w,function(k){var $=Ie(k)&&Te(k)?re.parse(k):[],O=At(k,!0,"error cause"),M=O[0];return M.name==="InvalidError"&&L.addMetadata("error cause",wt(k)),Et(M.name,M.message,de.__type,$)});(P=L.errors).push.apply(P,T)}return L};var wt=function(e){return e===null?"null":e===void 0?"undefined":e},At=function(e,r,i,a){var l,p=0,g=function(S){var v=i==="error cause"?"was":"received";a&&a.warn(i+" "+v+' a non-error: "'+S+'"');var L=new Error(i+" "+v+' a non-error. See "'+i+'" tab for more detail.');return L.name="InvalidError",L};if(!r)Ie(e)?l=e:(l=g(typeof e),p+=2);else switch(typeof e){case"string":case"number":case"boolean":l=new Error(String(e)),p+=1;break;case"function":l=g("function"),p+=2;break;case"object":e!==null&&Ie(e)?l=e:e!==null&&Jr(e)?(l=new Error(e.message||e.errorMessage),l.name=e.name||e.errorClass,p+=1):(l=g(e===null?"null":"unsupported object"),p+=2);break;default:l=g("nothing"),p+=2}if(!Te(l))try{throw l}catch(S){Te(S)&&(l=S,p=1)}return[l,p]};de.__type="browserjs";var Jr=function(e){return(typeof e.name=="string"||typeof e.errorClass=="string")&&(typeof e.message=="string"||typeof e.errorMessage=="string")},He=de,Yr=function(e,r,i){var a=0,l=function(){if(a>=e.length)return i(null,!0);r(e[a],function(p,g){if(p)return i(p);if(g===!1)return i(null,!1);a++,l()})};l()},Zr=function(e,r,i,a){var l=function(p,g){if(typeof p!="function")return g(null);try{if(p.length!==2){var S=p(r);return S&&typeof S.then=="function"?S.then(function(v){return setTimeout(function(){return g(null,v)})},function(v){setTimeout(function(){return i(v),g(null,!0)})}):g(null,S)}p(r,function(v,L){if(v)return i(v),g(null);g(null,L)})}catch(v){i(v),g(null)}};Yr(e,l,a)},Lt=function(e,r,i,a){for(var l=!1,p=e.slice();!l&&p.length;)try{l=p.pop()(r)===!1}catch(g){a.error("Error occurred in "+i+" callback, continuing anyway…"),a.error(g)}return l},je=function(r,i){var a="000000000"+r;return a.substr(a.length-i)},Pt=typeof window=="object"?window:self,Rt=0;for(var en in Pt)Object.hasOwnProperty.call(Pt,en)&&Rt++;var tn=navigator.mimeTypes?navigator.mimeTypes.length:0,rn=je((tn+navigator.userAgent.length).toString(36)+Rt.toString(36),4),Ot=function(){return rn},be=0,Ve=4,Ne=36,Ct=Math.pow(Ne,Ve);function Tt(){return je((Math.random()*Ct<<0).toString(Ne),Ve)}function nn(){return be=be<Ct?be:0,be++,be-1}function It(){var e="c",r=new Date().getTime().toString(Ne),i=je(nn().toString(Ne),Ve),a=Ot(),l=Tt()+Tt();return e+r+i+a+l}It.fingerprint=Ot;var an=It,sn=function(){function e(){this.id=an(),this.startedAt=new Date,this._handled=0,this._unhandled=0,this._user={},this.app={},this.device={}}var r=e.prototype;return r.getUser=function(){return this._user},r.setUser=function(a,l,p){this._user={id:a,email:l,name:p}},r.toJSON=function(){return{id:this.id,startedAt:this.startedAt,events:{handled:this._handled,unhandled:this._unhandled}}},r._track=function(a){this[a._handledState.unhandled?"_unhandled":"_handled"]+=1},e}(),Ge=sn,on=he.add,un=he.clear,ze=he.merge,fe=function(){},cn=function(){function e(i,a,l,p){var g=this;a===void 0&&(a=b.schema),l===void 0&&(l=[]),this._notifier=p,this._config={},this._schema=a,this._delivery={sendSession:fe,sendEvent:fe},this._logger={debug:fe,info:fe,warn:fe,error:fe},this._plugins={},this._breadcrumbs=[],this._session=null,this._metadata={},this._featuresIndex={},this._features=[],this._context=void 0,this._user={},this._cbs={e:[],s:[],sp:[],b:[]},this.Client=e,this.Event=He,this.Breadcrumb=ee,this.Session=Ge,this._config=this._configure(i,l),I(l.concat(this._config.plugins),function(L){L&&g._loadPlugin(L)}),this._depth=1;var S=this,v=this.notify;this.notify=function(){return v.apply(S,arguments)}}var r=e.prototype;return r.addMetadata=function(a,l,p){return me.add(this._metadata,a,l,p)},r.getMetadata=function(a,l){return me.get(this._metadata,a,l)},r.clearMetadata=function(a,l){return me.clear(this._metadata,a,l)},r.addFeatureFlag=function(a,l){l===void 0&&(l=null),on(this._features,this._featuresIndex,a,l)},r.addFeatureFlags=function(a){ze(this._features,a,this._featuresIndex)},r.clearFeatureFlag=function(a){un(this._features,this._featuresIndex,a)},r.clearFeatureFlags=function(){this._features=[],this._featuresIndex={}},r.getContext=function(){return this._context},r.setContext=function(a){this._context=a},r._configure=function(a,l){var p=o(l,function(L,A){return A&&A.configSchema?R({},L,A.configSchema):L},this._schema),g=o(m(p),function(L,A){var P=p[A].defaultValue(a[A]);if(a[A]!==void 0){var w=p[A].validate(a[A]);w?p[A].allowPartialObject?L.config[A]=R(P,a[A]):L.config[A]=a[A]:(L.errors[A]=p[A].message,L.config[A]=P)}else L.config[A]=P;return L},{errors:{},config:{}}),S=g.errors,v=g.config;if(p.apiKey){if(!v.apiKey)throw new Error("No Bugsnag API Key set");/^[0-9a-f]{32}$/i.test(v.apiKey)||(S.apiKey="should be a string of 32 hexadecimal characters")}return this._metadata=R({},v.metadata),ze(this._features,v.featureFlags,this._featuresIndex),this._user=R({},v.user),this._context=v.context,v.logger&&(this._logger=v.logger),v.onError&&(this._cbs.e=this._cbs.e.concat(v.onError)),v.onBreadcrumb&&(this._cbs.b=this._cbs.b.concat(v.onBreadcrumb)),v.onSession&&(this._cbs.s=this._cbs.s.concat(v.onSession)),m(S).length&&this._logger.warn(ln(S,a)),v},r.getUser=function(){return this._user},r.setUser=function(a,l,p){this._user={id:a,email:l,name:p}},r._loadPlugin=function(a){var l=a.load(this);return a.name&&(this._plugins["~"+a.name+"~"]=l),this},r.getPlugin=function(a){return this._plugins["~"+a+"~"]},r._setDelivery=function(a){this._delivery=a(this)},r.startSession=function(){var a=new Ge;a.app.releaseStage=this._config.releaseStage,a.app.version=this._config.appVersion,a.app.type=this._config.appType,a._user=R({},this._user);var l=Lt(this._cbs.s,a,"onSession",this._logger);return l?(this._logger.debug("Session not started due to onSession callback"),this):this._sessionDelegate.startSession(this,a)},r.addOnError=function(a,l){l===void 0&&(l=!1),this._cbs.e[l?"unshift":"push"](a)},r.removeOnError=function(a){this._cbs.e=c(this._cbs.e,function(l){return l!==a})},r._addOnSessionPayload=function(a){this._cbs.sp.push(a)},r.addOnSession=function(a){this._cbs.s.push(a)},r.removeOnSession=function(a){this._cbs.s=c(this._cbs.s,function(l){return l!==a})},r.addOnBreadcrumb=function(a,l){l===void 0&&(l=!1),this._cbs.b[l?"unshift":"push"](a)},r.removeOnBreadcrumb=function(a){this._cbs.b=c(this._cbs.b,function(l){return l!==a})},r.pauseSession=function(){return this._sessionDelegate.pauseSession(this)},r.resumeSession=function(){return this._sessionDelegate.resumeSession(this)},r.leaveBreadcrumb=function(a,l,p){if(a=typeof a=="string"?a:"",p=typeof p=="string"&&f(n,p)?p:"manual",l=typeof l=="object"&&l!==null?l:{},!!a){var g=new ee(a,l,p),S=Lt(this._cbs.b,g,"onBreadcrumb",this._logger);if(S){this._logger.debug("Breadcrumb not attached due to onBreadcrumb callback");return}this._breadcrumbs.push(g),this._breadcrumbs.length>this._config.maxBreadcrumbs&&(this._breadcrumbs=this._breadcrumbs.slice(this._breadcrumbs.length-this._config.maxBreadcrumbs))}},r._isBreadcrumbTypeEnabled=function(a){var l=this._config.enabledBreadcrumbTypes;return l===null||f(l,a)},r.notify=function(a,l,p){p===void 0&&(p=fe);var g=He.create(a,!0,void 0,"notify()",this._depth+1,this._logger);this._notify(g,l,p)},r._notify=function(a,l,p){var g=this;if(p===void 0&&(p=fe),a.app=R({},a.app,{releaseStage:this._config.releaseStage,version:this._config.appVersion,type:this._config.appType}),a.context=a.context||this._context,a._metadata=R({},a._metadata,this._metadata),a._user=R({},a._user,this._user),a.breadcrumbs=this._breadcrumbs.slice(),ze(a._features,this._features,a._featuresIndex),this._config.enabledReleaseStages!==null&&!f(this._config.enabledReleaseStages,this._config.releaseStage))return this._logger.warn("Event not sent due to releaseStage/enabledReleaseStages configuration"),p(null,a);var S=a.severity,v=function(A){g._logger.error("Error occurred in onError callback, continuing anyway…"),g._logger.error(A)},L=[].concat(this._cbs.e).concat(l);Zr(L,a,v,function(A,P){if(A&&v(A),!P)return g._logger.debug("Event not sent due to onError callback"),p(null,a);g._isBreadcrumbTypeEnabled("error")&&e.prototype.leaveBreadcrumb.call(g,a.errors[0].errorClass,{errorClass:a.errors[0].errorClass,errorMessage:a.errors[0].errorMessage,severity:a.severity},"error"),S!==a.severity&&(a._handledState.severityReason={type:"userCallbackSetSeverity"}),a.unhandled!==a._handledState.unhandled&&(a._handledState.severityReason.unhandledOverridden=!0,a._handledState.unhandled=a.unhandled),g._session&&(g._session._track(a),a._session=g._session),g._delivery.sendEvent({apiKey:a.apiKey||g._config.apiKey,notifier:g._notifier,events:[a]},function(w){return p(w,a)})})},e}(),ln=function(e,r){var i=new Error(`Invalid configuration
`+I(m(e),function(a){return"  - "+a+" "+e[a]+", got "+dn(r[a])}).join(`

`));return i},dn=function(e){switch(typeof e){case"string":case"number":case"object":return JSON.stringify(e);default:return String(e)}},Ke=cn,ve={},Nt=["events.[].metaData","events.[].breadcrumbs.[].metaData","events.[].request"];ve.event=function(e,r){var i=Z(e,null,null,{redactedPaths:Nt,redactedKeys:r});return i.length>1e6&&(e.events[0]._metadata={notifier:`WARNING!
Serialized payload was `+i.length/1e6+`MB (limit = 1MB)
metadata was removed`},i=Z(e,null,null,{redactedPaths:Nt,redactedKeys:r})),i},ve.session=function(e,r){var i=Z(e,null,null);return i};var Qe={};Qe=function(e,r){return r===void 0&&(r=window),{sendEvent:function(i,a){a===void 0&&(a=function(){});var l=Mt(e._config,"notify","4",r),p=ve.event(i,e._config.redactedKeys),g=new r.XDomainRequest;g.onload=function(){a(null)},g.onerror=function(){var S=new Error("Event failed to send");e._logger.error("Event failed to send…",S),p.length>1e6&&e._logger.warn("Event oversized ("+(p.length/1e6).toFixed(2)+" MB)"),a(S)},g.open("POST",l),setTimeout(function(){try{g.send(p)}catch(S){e._logger.error(S),a(S)}},0)},sendSession:function(i,a){a===void 0&&(a=function(){});var l=Mt(e._config,"sessions","1",r),p=new r.XDomainRequest;p.onload=function(){a(null)},p.open("POST",l),setTimeout(function(){try{p.send(ve.session(i,e._config.redactedKeys))}catch(g){e._logger.error(g),a(g)}},0)}}};var Mt=function(e,r,i,a){var l=JSON.parse(JSON.stringify(new Date)),p=fn(e.endpoints[r],a.location.protocol);return p+"?apiKey="+encodeURIComponent(e.apiKey)+"&payloadVersion="+i+"&sentAt="+encodeURIComponent(l)},fn=Qe._matchPageProtocol=function(e,r){return r==="http:"?e.replace(/^https:/,"http:"):e},pn=function(e,r){return r===void 0&&(r=window),{sendEvent:function(i,a){a===void 0&&(a=function(){});try{var l=e._config.endpoints.notify,p=new r.XMLHttpRequest,g=ve.event(i,e._config.redactedKeys);p.onreadystatechange=function(){if(p.readyState===r.XMLHttpRequest.DONE){var S=p.status;if(S===0||S>=400){var v=new Error("Request failed with status "+S);e._logger.error("Event failed to send…",v),g.length>1e6&&e._logger.warn("Event oversized ("+(g.length/1e6).toFixed(2)+" MB)"),a(v)}else a(null)}},p.open("POST",l),p.setRequestHeader("Content-Type","application/json"),p.setRequestHeader("Bugsnag-Api-Key",i.apiKey||e._config.apiKey),p.setRequestHeader("Bugsnag-Payload-Version","4"),p.setRequestHeader("Bugsnag-Sent-At",new Date().toISOString()),p.send(g)}catch(S){e._logger.error(S)}},sendSession:function(i,a){a===void 0&&(a=function(){});try{var l=e._config.endpoints.sessions,p=new r.XMLHttpRequest;p.onreadystatechange=function(){if(p.readyState===r.XMLHttpRequest.DONE){var g=p.status;if(g===0||g>=400){var S=new Error("Request failed with status "+g);e._logger.error("Session failed to send…",S),a(S)}else a(null)}},p.open("POST",l),p.setRequestHeader("Content-Type","application/json"),p.setRequestHeader("Bugsnag-Api-Key",e._config.apiKey),p.setRequestHeader("Bugsnag-Payload-Version","1"),p.setRequestHeader("Bugsnag-Sent-At",new Date().toISOString()),p.send(ve.session(i,e._config.redactedKeys))}catch(g){e._logger.error(g)}}}},kt=new Date,hn=function(){kt=new Date},gn={name:"appDuration",load:function(e){return e.addOnError(function(r){var i=new Date;r.app.duration=i-kt},!0),{reset:hn}}},mn=function(e){return e===void 0&&(e=window),{load:function(r){r.addOnError(function(i){i.context===void 0&&(i.context=e.location.pathname)},!0)}}},Xe=function(r,i){var a="000000000"+r;return a.substr(a.length-i)},Dt=typeof window=="object"?window:self,xt=0;for(var vn in Dt)Object.hasOwnProperty.call(Dt,vn)&&xt++;var _n=navigator.mimeTypes?navigator.mimeTypes.length:0,yn=Xe((_n+navigator.userAgent.length).toString(36)+xt.toString(36),4),qt=function(){return yn},we=0,We=4,Me=36,Ft=Math.pow(Me,We);function $t(){return Xe((Math.random()*Ft<<0).toString(Me),We)}function Sn(){return we=we<Ft?we:0,we++,we-1}function Ut(){var e="c",r=new Date().getTime().toString(Me),i=Xe(Sn().toString(Me),We),a=qt(),l=$t()+$t();return e+r+i+a+l}Ut.fingerprint=qt;var En=Ut,Bt="bugsnag-anonymous-id",bn=function(e){try{var r=e.localStorage,i=r.getItem(Bt);return i&&/^c[a-z0-9]{20,32}$/.test(i)||(i=En(),r.setItem(Bt,i)),i}catch{}},wn=function(e,r){return e===void 0&&(e=navigator),r===void 0&&(r=window),{load:function(i){var a={locale:e.browserLanguage||e.systemLanguage||e.userLanguage||e.language,userAgent:e.userAgent};r&&r.screen&&r.screen.orientation&&r.screen.orientation.type?a.orientation=r.screen.orientation.type:r&&r.document&&(a.orientation=r.document.documentElement.clientWidth>r.document.documentElement.clientHeight?"landscape":"portrait"),i._config.generateAnonymousId&&(a.id=bn(r)),i.addOnSession(function(l){l.device=R({},l.device,a),i._config.collectUserIp||Ht(l)}),i.addOnError(function(l){l.device=R({},l.device,a,{time:new Date}),i._config.collectUserIp||Ht(l)},!0)},configSchema:{generateAnonymousId:{validate:function(i){return i===!0||i===!1},defaultValue:function(){return!0},message:"should be true|false"}}}},Ht=function(e){var r=e.getUser();(!r||!r.id)&&e.setUser(e.device.id)},An=function(e){return e===void 0&&(e=window),{load:function(r){r.addOnError(function(i){i.request&&i.request.url||(i.request=R({},i.request,{url:e.location.href}))},!0)}}},Ln={load:function(e){e._sessionDelegate=Pn}},Pn={startSession:function(e,r){var i=e;return i._session=r,i._pausedSession=null,i._config.enabledReleaseStages!==null&&!f(i._config.enabledReleaseStages,i._config.releaseStage)?(i._logger.warn("Session not sent due to releaseStage/enabledReleaseStages configuration"),i):(i._delivery.sendSession({notifier:i._notifier,device:r.device,app:r.app,sessions:[{id:r.id,startedAt:r.startedAt,user:r._user}]}),i)},resumeSession:function(e){return e._session?e:e._pausedSession?(e._session=e._pausedSession,e._pausedSession=null,e):e.startSession()},pauseSession:function(e){e._pausedSession=e._session,e._session=null}},Rn={load:function(e){e._config.collectUserIp||e.addOnError(function(r){r._user&&typeof r._user.id>"u"&&delete r._user.id,r._user=R({id:"[REDACTED]"},r._user),r.request=R({clientIp:"[REDACTED]"},r.request)})},configSchema:{collectUserIp:{defaultValue:function(){return!0},message:"should be true|false",validate:function(e){return e===!0||e===!1}}}},jt={};jt.load=function(e){var r=/^(local-)?dev(elopment)?$/.test(e._config.releaseStage);r||!e._isBreadcrumbTypeEnabled("log")||I(On,function(i){var a=console[i];console[i]=function(){for(var l=arguments.length,p=new Array(l),g=0;g<l;g++)p[g]=arguments[g];e.leaveBreadcrumb("Console output",o(p,function(S,v,L){var A="[Unknown value]";try{A=String(v)}catch{}if(A==="[object Object]")try{A=JSON.stringify(v)}catch{}return S["["+L+"]"]=A,S},{severity:i.indexOf("group")===0?"log":i}),"log"),a.apply(console,p)},console[i]._restore=function(){console[i]=a}})};var On=c(["log","debug","info","warn","error"],function(e){return typeof console<"u"&&typeof console[e]=="function"}),Vt=200,Gt=5e5,Cn=function(e,r){return e===void 0&&(e=document),r===void 0&&(r=window),{load:function(i){if(!i._config.trackInlineScripts)return;var a=r.location.href,l="",p=!!e.attachEvent,g=p?e.readyState==="complete":e.readyState!=="loading",S=function(){return e.documentElement.outerHTML};l=S();var v=e.onreadystatechange;e.onreadystatechange=function(){e.readyState==="interactive"&&(l=S(),g=!0);try{v.apply(this,arguments)}catch{}};var L=null,A=function(O){L=O},P=function(){var O=e.currentScript||L;if(!O&&!g){var M=e.scripts||e.getElementsByTagName("script");O=M[M.length-1]}return O},w=function(O){(!g||!l)&&(l=S());var M=["<!-- DOC START -->"].concat(l.split(`
`)),j=O-1,B=Math.max(j-3,0),X=Math.min(j+3,M.length);return o(M.slice(B,X),function(z,Ae,et){return z[B+1+et]=Ae.length<=Vt?Ae:Ae.substr(0,Vt),z},{})};i.addOnError(function(O){O.errors[0].stacktrace=c(O.errors[0].stacktrace,function(z){return!/__trace__$/.test(z.method)});var M=O.errors[0].stacktrace[0],j=function(z){return z.replace(/#.*$/,"").replace(/\?.*$/,"")};if(!(M&&M.file&&j(M.file)!==j(a))){var B=P();if(B){var X=B.innerHTML;O.addMetadata("script","content",X.length<=Gt?X:X.substr(0,Gt)),M&&M.lineNumber&&(M.code=w(M.lineNumber))}}},!0);var T=I(["setTimeout","setInterval","setImmediate","requestAnimationFrame"],function(O){return Je(r,O,function(M){return $(M,function(j){return{get:function(){return j[0]},replace:function(B){j[0]=B}}})})}),k=T[0];I(["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],function(O){!r[O]||!r[O].prototype||!Object.prototype.hasOwnProperty.call(r[O].prototype,"addEventListener")||(Je(r[O].prototype,"addEventListener",function(M){return $(M,zt)}),Je(r[O].prototype,"removeEventListener",function(M){return $(M,zt,!0)}))});function $(O,M,j){return j===void 0&&(j=!1),function(){var B=[].slice.call(arguments);try{var X=M(B),z=X.get();if(j&&O.apply(this,B),typeof z!="function")return O.apply(this,B);if(z.__trace__)X.replace(z.__trace__);else{var Ae=P();z.__trace__=function(){A(Ae),k(function(){A(null)},0);var Vn=z.apply(this,arguments);return A(null),Vn},z.__trace__.__trace__=z.__trace__,X.replace(z.__trace__)}}catch{}if(O.apply)return O.apply(this,B);switch(B.length){case 1:return O(B[0]);case 2:return O(B[0],B[1]);default:return O()}}}},configSchema:{trackInlineScripts:{validate:function(i){return i===!0||i===!1},defaultValue:function(){return!0},message:"should be true|false"}}}};function Je(e,r,i){var a=e[r];if(!a)return a;var l=i(a);return e[r]=l,a}function zt(e){var r=!!e[1]&&typeof e[1].handleEvent=="function";return{get:function(){return r?e[1].handleEvent:e[1]},replace:function(i){r?e[1].handleEvent=i:e[1]=i}}}var Tn=function(e){return e===void 0&&(e=window),{load:function(r){"addEventListener"in e&&r._isBreadcrumbTypeEnabled("user")&&e.addEventListener("click",function(i){var a,l;try{a=Nn(i.target),l=Kt(i.target,e)}catch{a="[hidden]",l="[hidden]",r._logger.error("Cross domain error when tracking click event. See docs: https://tinyurl.com/yy3rn63z")}r.leaveBreadcrumb("UI click",{targetText:a,targetSelector:l},"user")},!0)}}},In=/^\s*([^\s][\s\S]{0,139}[^\s])?\s*/;function Nn(e){var r=e.textContent||e.innerText||"";return!r&&(e.type==="submit"||e.type==="button")&&(r=e.value),r=r.replace(In,"$1"),r.length>140?r.slice(0,135)+"(...)":r}function Kt(e,r){var i=[e.tagName];if(e.id&&i.push("#"+e.id),e.className&&e.className.length&&i.push("."+e.className.split(" ").join(".")),!r.document.querySelectorAll||!Array.prototype.indexOf)return i.join("");try{if(r.document.querySelectorAll(i.join("")).length===1)return i.join("")}catch{return i.join("")}if(e.parentNode.childNodes.length>1){var a=Array.prototype.indexOf.call(e.parentNode.childNodes,e)+1;i.push(":nth-child("+a+")")}return r.document.querySelectorAll(i.join("")).length===1?i.join(""):e.parentNode?Kt(e.parentNode,r)+" > "+i.join(""):i.join("")}var Qt={};Qt=function(e){e===void 0&&(e=window);var r={load:function(i){if("addEventListener"in e&&i._isBreadcrumbTypeEnabled("navigation")){var a=function(l){return function(){return i.leaveBreadcrumb(l,{},"navigation")}};e.addEventListener("pagehide",a("Page hidden"),!0),e.addEventListener("pageshow",a("Page shown"),!0),e.addEventListener("load",a("Page loaded"),!0),e.document.addEventListener("DOMContentLoaded",a("DOMContentLoaded"),!0),e.addEventListener("load",function(){return e.addEventListener("popstate",a("Navigated back"),!0)}),e.addEventListener("hashchange",function(l){var p=l.oldURL?{from:ke(l.oldURL,e),to:ke(l.newURL,e),state:Wt(e)}:{to:ke(e.location.href,e)};i.leaveBreadcrumb("Hash changed",p,"navigation")},!0),e.history.replaceState&&Xt(i,e.history,"replaceState",e),e.history.pushState&&Xt(i,e.history,"pushState",e)}}};return r};var ke=function(e,r){var i=r.document.createElement("A");return i.href=e,""+i.pathname+i.search+i.hash},Mn=function(e,r,i,a){var l=ke(e.location.href,e);return{title:i,state:r,prevState:Wt(e),to:a||l,from:l}},Xt=function(e,r,i,a){var l=r[i];r[i]=function(p,g,S){e.leaveBreadcrumb("History "+i,Mn(a,p,g,S),"navigation"),typeof e.resetEventCount=="function"&&e.resetEventCount(),e._config.autoTrackSessions&&e.startSession(),l.apply(r,[p,g].concat(S!==void 0?S:[]))}},Wt=function(e){try{return e.history.state}catch{}},_e="request",kn=function(e,r){e===void 0&&(e=[]),r===void 0&&(r=window);var i={load:function(a){if(!a._isBreadcrumbTypeEnabled("request"))return;var l=[a._config.endpoints.notify,a._config.endpoints.sessions].concat(e);p(),v();function p(){if("addEventListener"in r.XMLHttpRequest.prototype){var P=r.XMLHttpRequest.prototype.open;r.XMLHttpRequest.prototype.open=function(T,k){var $=this,O=!1,M=function(){return S(T,k)},j=function(){return g(T,k,$.status)};O&&(this.removeEventListener("load",j),this.removeEventListener("error",M)),this.addEventListener("load",j),this.addEventListener("error",M),O=!0,P.apply(this,arguments)}}}function g(P,w,T){if(w===void 0){a._logger.warn("The request URL is no longer present on this XMLHttpRequest. A breadcrumb cannot be left for this request.");return}if(!(typeof w=="string"&&f(l,w.replace(/\?.*$/,"")))){var k={status:T,request:P+" "+w};T>=400?a.leaveBreadcrumb("XMLHttpRequest failed",k,_e):a.leaveBreadcrumb("XMLHttpRequest succeeded",k,_e)}}function S(P,w){if(w===void 0){a._logger.warn("The request URL is no longer present on this XMLHttpRequest. A breadcrumb cannot be left for this request.");return}typeof w=="string"&&f(l,w.replace(/\?.*$/,""))||a.leaveBreadcrumb("XMLHttpRequest error",{request:P+" "+w},_e)}function v(){if(!(!("fetch"in r)||r.fetch.polyfill)){var P=r.fetch;r.fetch=function(){var T=arguments,k=arguments[0],$=arguments[1],O,M=null;return k&&typeof k=="object"?(M=k.url,$&&"method"in $?O=$.method:k&&"method"in k&&(O=k.method)):(M=k,$&&"method"in $&&(O=$.method)),O===void 0&&(O="GET"),new Promise(function(j,B){P.apply(void 0,T).then(function(X){L(X,O,M),j(X)}).catch(function(X){A(O,M),B(X)})})}}}var L=function(P,w,T){var k={status:P.status,request:w+" "+T};P.status>=400?a.leaveBreadcrumb("fetch() failed",k,_e):a.leaveBreadcrumb("fetch() succeeded",k,_e)},A=function(P,w){a.leaveBreadcrumb("fetch() error",{request:P+" "+w},_e)}}};return i},Dn={load:function(e){var r=0;e.addOnError(function(i){if(r>=e._config.maxEvents)return e._logger.warn("Cancelling event send due to maxEvents per session limit of "+e._config.maxEvents+" being reached"),!1;r++}),e.resetEventCount=function(){r=0}},configSchema:{maxEvents:{defaultValue:function(){return 10},message:"should be a positive integer ≤100",validate:function(e){return E(1,100)(e)}}}},Ye={};Ye={load:function(e){e.addOnError(function(r){var i=o(r.errors,function(a,l){return a.concat(l.stacktrace)},[]);I(i,function(a){a.file=xn(a.file)})})}};var xn=Ye._strip=function(e){return typeof e=="string"?e.replace(/\?.*$/,"").replace(/#.*$/,""):e},qn=function(e,r){return e===void 0&&(e=window),r===void 0&&(r="window onerror"),{load:function(i){if(!i._config.autoDetectErrors||!i._config.enabledErrorTypes.unhandledExceptions)return;function a(p,g,S,v,L){if(S===0&&/Script error\.?/.test(p))i._logger.warn("Ignoring cross-domain or eval script error. See docs: https://tinyurl.com/yy3rn63z");else{var A={severity:"error",unhandled:!0,severityReason:{type:"unhandledException"}},P;if(L)P=i.Event.create(L,!0,A,r,1),Jt(P.errors[0].stacktrace,g,S,v);else if(typeof p=="object"&&p!==null&&(!g||typeof g!="string")&&!S&&!v&&!L){var w=p.type?"Event: "+p.type:"Error",T=p.message||p.detail||"";P=i.Event.create({name:w,message:T},!0,A,r,1),P.originalError=p,P.addMetadata(r,{event:p,extraParameters:g})}else P=i.Event.create(p,!0,A,r,1),Jt(P.errors[0].stacktrace,g,S,v);i._notify(P)}typeof l=="function"&&l.apply(this,arguments)}var l=e.onerror;e.onerror=a}}},Jt=function(e,r,i,a){e[0]||e.push({});var l=e[0];!l.file&&typeof r=="string"&&(l.file=r),!l.lineNumber&&Ze(i)&&(l.lineNumber=i),l.columnNumber||(Ze(a)?l.columnNumber=a:window.event&&Ze(window.event.errorCharacter)&&(l.columnNumber=window.event.errorCharacter))},Ze=function(e){return typeof e=="number"&&String.call(e)!=="NaN"},Fn=function(e){e===void 0&&(e=window);var r={load:function(i){if(!(!i._config.autoDetectErrors||!i._config.enabledErrorTypes.unhandledRejections)){var a=function(l){var p=l.reason,g=!1;try{l.detail&&l.detail.reason&&(p=l.detail.reason,g=!0)}catch{}var S=i.Event.create(p,!1,{severity:"error",unhandled:!0,severityReason:{type:"unhandledPromiseRejection"}},"unhandledrejection handler",1,i._logger);g&&I(S.errors[0].stacktrace,$n(p)),i._notify(S,function(v){if(Ie(v.originalError)&&!v.originalError.stack){var L;v.addMetadata("unhandledRejection handler",(L={},L[Object.prototype.toString.call(v.originalError)]={name:v.originalError.name,message:v.originalError.message,code:v.originalError.code},L))}})};"addEventListener"in e?e.addEventListener("unhandledrejection",a):e.onunhandledrejection=function(l,p){a({detail:{reason:l,promise:p}})}}}};return r},$n=function(e){return function(r){r.file!==e.toString()&&r.method&&(r.method=r.method.replace(/^\s+/,""))}},ge={},Un="Bugsnag JavaScript",Bn="7.25.0",Hn="https://github.com/bugsnag/bugsnag-js",jn=R({},b.schema,K),G={_client:null,createClient:function(e){typeof e=="string"&&(e={apiKey:e}),e||(e={});var r=[gn,wn(),mn(),An(),Dn,Ln,Rn,Ye,qn(),Fn(),Qt(),Tn(),kn(),jt,Cn()],i=new Ke(e,jn,r,{name:Un,version:Bn,url:Hn});return i._setDelivery(window.XDomainRequest?Qe:pn),i._logger.debug("Loaded!"),i.leaveBreadcrumb("Bugsnag loaded",{},"state"),i._config.autoTrackSessions?i.startSession():i},start:function(e){return G._client?(G._client._logger.warn("Bugsnag.start() was called more than once. Ignoring."),G._client):(G._client=G.createClient(e),G._client)},isStarted:function(){return G._client!=null}};return I(["resetEventCount"].concat(m(Ke.prototype)),function(e){/^_/.test(e)||(G[e]=function(){if(!G._client)return console.log("Bugsnag."+e+"() was called before Bugsnag.start()");G._client._depth+=1;var r=G._client[e].apply(G._client,arguments);return G._client._depth-=1,r})}),ge=G,ge.Client=Ke,ge.Event=He,ge.Session=Ge,ge.Breadcrumb=ee,ge.default=G,ge})}(rt)),rt.exports}var nt,or;function wi(){return or||(or=1,nt=bi()),nt}var Ai=wi();const Li=ha(Ai),Pi=/:\/\/(?![^/]*shopify)/,Ri=["contains bl.cklisted shop_id","Blocked by AdGuard","Backpressure applied","Internet Security by Zscaler","blocked by AdBlocker Ultimate"];function Oi(){return Ri.map(s=>new RegExp(`Error producing to the Monorail Edge.+${s}`))}const Ci=[/Invalid blocker state transition:/,/Unable to preload CSS for/,/Importing a module script failed/,/Failed to fetch dynamically imported module:/,/error loading dynamically imported module:/],Ti=[/Node and callback/,/A valid node is required to create a modal/,/Couldn't find a UiModal container on the current page/,/Query failed: undefined/,/error loading script/,/script error/,/unknown error/,/npobject/,/hui_container/,/netdefender/,/datafastguru/,/tlscdn/,/injectedscript/,/KW__/,/property 'tgt'/,/chrome-extension/,/avast_submit/,/Unhandled promise rejection/,/Admin-Next 500 error/,/^Uncaught undefined/,/Rejection reason was not an Error/,/ResizeObserver loop limit exceeded/,/ResizeObserver loop completed with undelivered notifications/,/Minified React error #(418|423|425)/],ct=[...Oi(),/Throttled$/,/"code":\s*"THROTTLED"/,/A network failure may have prevented the request from completing\. Error: TypeError:/,/Network error: cancel/,/connection appears to be offline/,/connection was lost/,/The user aborted a request/,/NetworkError when attempting to fetch resource/,/failed to authenticate/,/Timeout exceeded/,/error loading GraphQL document/,/Failed to fetch/,/Load failed/,/^cancelled$/,/Deferred data aborted/,/Skipping view transition because skipTransition\(\) was called/,/Old view transition aborted by new view transition/,/View transition was skipped because document visibility state is hidden/,/Exporter has been shutdown/,/SendBeacon failed/,/Concurrent export limit reached/,/Failed to query Analytics token for Shopify Employee/],Ii=[/^Throttled$/,/failed to authenticate/,/contains bl.cklisted shop_id value/,/Internal error/,/Cusco/,/^cancelled$/,/Load failed/,/Timeout exceeded/,/Network error:.+JSON/,/Received status code (401|403|423|500|502|503|520)/,/GraphQL fetch failed with status: (401|403|404|406|408|423|500|502|503|504|520|522)/,/\[IMPERSONATION\]/,/\[TFA\].+This store requires two-factor authentication/,/GraphQL fetch failed with status: 400, response: {"error":"Unable to retrieve token"}/,/Cannot parse response/,/The request timed out/,/Failed to fetch/,/error loading GraphQL document/,/NetworkError/,/Invariant Violation: 17/],Ni=/Required active shop/,Mi={base:ct,browser:[...ct,...Ti,...Ci]},ki=[/^OTLPExporterError$/,/^QuickSearch:RemoteSearchError$/,/^QuickSearch:SearchFailed$/,/^QuickSearch:RemoteSearchFailed$/,/^UnknownTimezone$/,/^QuickSearch:LoadMoreForCategoryFailed$/,/^AdminNextAssetPrefetch$/,/^ScriptDownloadError$/,/^MonorailInterceptedProduceError/];function Di(s,t={}){const{pathName:n,errorGroup:o,errorClass:c,stacktrace:f}=t;if(Ni.test(s))return n===void 0||!n.match(/\/store\/\w+\/access_account/)&&!n.match(/\/admin\/access_account/);const u=o?Mi[o]:ct;return ki.some(d=>d.test(c||""))||u.some(d=>d.test(s))||qi(s,c)||(f?Pi.test(f):!1)}const xi=["ApolloError","HttpError","ParseError","FormatError","ExecutionError"];function qi(s,t){return!t||!xi.includes(t)?!1:Ii.some(n=>n.test(s))}function Se(s,t){s.addMetadata("bugsnag",{shouldSend:t})}function Fi(s){return function(n){Se(n,!0),ga(n);const o=n.request.url||"";if(!URL.canParse(o)){Se(n,!1);return}const c=URL.parse(o);if(!c||$i(c)||Ui(c)||Bi(c)){Se(n,!1);return}if(Hi(n)){Se(n,!1);return}if(n.errors.some(u=>{const d=u.stacktrace.map(h=>`${h.file} ${h.method}`).join(" ");return n.context==="/admin/files"&&u.errorMessage.includes("SecurityError")||Di(u.errorMessage,{pathName:window.location.pathname,errorGroup:"browser",errorClass:u.errorClass,stacktrace:d})||ma(n.originalError)||u.errorMessage===void 0||u.errorMessage==="undefined"||u.errorClass==="Unauthorized"})){Se(n,!1);return}s(n)===!1&&Se(n,!1)}}function $i(s){return s.hostname.match(/\.myshopify\.io/)}function Ui(s){return s.protocol==="file:"||s.protocol==="blob:"||s.protocol==="content:"}function Bi(s){return!((s==null?void 0:s.hostname)==="admin.shopify.com"||s!=null&&s.hostname.match(/\.myshopify\.com$/))}function Hi(s){var t;return((t=s.getMetadata("unhandledrejection handler"))==null?void 0:t["non-error parameter"])==="undefined"}const ji=/^\/signup\/([0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12})(\/(.*))?$/,Vi=["[gtm: error] gtm iframe failed to load","[gtm: error] gtm failed to acknowledge message","Data Collector must be created with Kount and/or PayPal."];function Gi(s){var u;if(!((u=s.request.path)==null?void 0:u.startsWith("/signup")))return;const n=zi(),o=s.errors[0],{errorMessage:c=""}=o;Vi.forEach(d=>{c===d&&(s.groupingHash=d)}),s.addMetadata("signup",{signupUuid:n.signupUuid,country:n.country,experimentAssignments:n.experimentAssignments,locale:n.locale,page:va(location.pathname),phase:n.phase,sequenceSteps:n.sequenceSteps,signupTypes:n.signupTypes});const[,f]=s.request.path.match(ji)||[];s.request.path=s.request.path.replace(f,":signup_uuid")}function zi(){const s=document.querySelector('[data-serialized-id="signup-context"]'),t=s==null?void 0:s.textContent;try{return t?JSON.parse(t):{}}catch{return{}}}function Ki(s){var t;return!!(s&&((t=s.extraInfo)!=null&&t.operation))}function Qi(s){var t,n;for(const o of s.errors){const c=s.originalError;if(!gt(c)||c.cause)return;if(Ki(c))o.errorClass=`QueryError:${c.extraInfo.operation}`;else if(mr((t=c.graphQLErrors[0])==null?void 0:t.originalError)){const f=URL.parse((n=c.graphQLErrors[0])==null?void 0:n.originalError.response.url);f&&(o.errorClass=`QueryError:${f.searchParams.get("operation")}`)}}}const Xi=["The play() request was interrupted because the media was removed from the document. https://goo.gl/LdLk22","Error: Syntax not recognized - Unsupported visualization type Source: ANTLR Transformer Range: 19:24 - 19:34"];function Wi(s){const t=s.errors[0],{errorMessage:n=""}=t;Xi.forEach(o=>{n===o&&(s.groupingHash=o)})}const ur="UNKNOWN_ERROR",cr="UNKNOWN_PATH";function Ji(s){const t=s.networkError;if(mr(t))return`[HTTP/${t.statusCode}]`;const n=new Set(s.graphQLErrors.map(({extensions:u})=>(u==null?void 0:u.code)??ur)),o=new Set(s.graphQLErrors.map(({path:u})=>(u==null?void 0:u.at(-1))||cr)),c=n.size?[...n]:[ur],f=o.size?[...o]:[cr];return c.length===1?`[${c[0]}@${f.join(",")}]`:`[MIXED_ERRORS@${f.length===1?f[0]:"MIXED_PATHS"}]`}function Yi(s,t){return gt(t)?`${s.errorClass}${Ji(t)}`:s.errorClass}const Zi="https://cdn.shopify.com/s/assets",es="webpack:///client/bugsnag",ts="https://error-analytics-production.shopifysvc.com",rs="https://error-analytics-sessions-production.shopifysvc.com",Ee=pt(),ns=s=>async t=>{const n=t.getMetadata("custom")??{},{sliceName:o,routeId:c,targetNormalizedPathname:f,errorBoundary:u}=n,d=t.getMetadata("bugsnag")??{},{shouldSend:h}=d,m={sliceName:o,routeId:c,targetNormalizedPathname:f,errorBoundary:u,notifiedBugsnag:h},E=t.originalError instanceof Error?t.originalError:void 0;s.log("error","Notified BugSnag",{...m,errorMessage:(E==null?void 0:E.message)??t.errors[0].errorMessage,errorName:(E==null?void 0:E.name)??t.errors[0].errorClass,errorStack:(E==null?void 0:E.stack)??""}),s.record(oe.AppError,1,m);for(const y of t.errors){const _=gs(y.stacktrace,t.request.url);_>0&&s.log("info","BugSnag Suspicious Error",{errorMessage:y.errorMessage,errorStack:(E==null?void 0:E.stack)||"",totalFrameCount:y.stacktrace.length,suspiciousFrameCount:_})}},{supported:as}=(Ee==null?void 0:Ee.browser)??{},{apiKey:Er,appVersion:is,releaseStage:at}=(Ee==null?void 0:Ee.bugsnag)??{},ss=as?Fi(ps):()=>!1,lt=s=>{const t=s.getMetadata("bugsnag")??{},{shouldSend:n}=t;if(!n)return!1},br={apiKey:Er,autoTrackSessions:!0,trackInlineScripts:!1,releaseStage:at,appVersion:is,enabledErrorTypes:{unhandledExceptions:!0,unhandledRejections:!0},enabledBreadcrumbTypes:["error","manual","navigation","user"],enabledReleaseStages:/^(production|canary|performance|staging-([a-z0-9]{4}))$/.test(at)?[at]:[],maxBreadcrumbs:40,onError:ss,endpoints:{notify:ts,sessions:rs}};br.logger=null;const N=Er?Li.createClient(br):null;N==null||N.addOnError(lt);if(navigator.connection){const{downlink:s,effectiveType:t,rtt:n,type:o,saveData:c}=navigator.connection;N==null||N.addMetadata("connection",{downlink:s,effectiveType:t,rtt:n,type:o,saveData:c})}const{sessionId:os,requestDetails:us,enabledBetas:cs,isShopifyStaff:ls}=pt()??{};wr({...us,enabledBetas:cs,sessionId:os,isShopifyStaff:ls});const ds=F(({ensure:s,registerCleanup:t})=>{const n={leaveBreadcrumb(o,c,f){N==null||N.leaveBreadcrumb(o,c,f)},notify(o,c){const f=c||{},u=f.metaData||{};if(fs(o)){const{graphQLErrors:h=[]}=o;u.graphQL=h.reduce((m,E,y)=>(m[y+1]=JSON.stringify(E),m),{})}const d=N==null?void 0:N.Event.create(o,!0,{severity:f.severity||"warning",unhandled:!1,severityReason:{type:"handledException"}},"notify()",2);d&&(u&&Object.keys(u).length!==0&&Object.keys(u).forEach(h=>{h==="react"?d.addMetadata("react",u[h]):d.addMetadata("custom",{[h]:u[h]})}),N==null||N._notify(d))},addOnError(o){return N==null||N.addOnError(o),()=>{N==null||N.removeOnError(o)}},setFlags(o){Ar(o)},updateMetadata(o){wr(o)},clearMetadata(){N==null||N.clearMetadata("user")}};return s(["flags"]).then(({flags:o})=>{t(_a(()=>n.setFlags(o.enabled)))}).catch(o=>{throw o}),s(["requestDetails"]).then(({requestDetails:o})=>{n.updateMetadata(o)}).catch(o=>{throw o}),s(["instrumentation"]).then(({instrumentation:o})=>{const c=n.addOnError(f=>{const u=f.getMetadata("bugsnag")??{};(f.getMetadata("custom")??{}).errorBoundary==="router"&&o.setPageViewErrorReported(u.shouldSend)});t(c)}).catch(o=>{throw o}),s(["router","metrics"]).then(({router:o,metrics:c})=>{N==null||N.removeOnError(lt);const f=n.addOnError(h=>{const m=hs(o,h.originalError);h.addMetadata("custom",m)});t(f);const u=n.addOnError(ns(c));t(u);const d=n.addOnError(lt);t(d)}).catch(o=>{throw o}),n});function wr(s){const{shop:t,staffMember:n,isShopifyStaff:o,sessionId:c,enabledBetas:f=[]}=s,u=vr()?hr():void 0,d={shopId:t==null?void 0:t.shopId,shopDomain:t==null?void 0:t.shopDomain,userId:n==null?void 0:n.userId,userUuid:u,isShopifyEmployee:o??(t==null?void 0:t.isShopifyEmployee),sessionId:c};N==null||N.addMetadata("user",d),N==null||N.setUser(u),Ar(f)}function fs(s){return!!s&&Array.isArray(s.graphQLErrors)}function Ar(s){N==null||N.clearFeatureFlags(),N==null||N.addFeatureFlags(s.map(t=>({name:t})))}function ps(s){s.addMetadata("errors",{errors:s.errors.map(m=>({type:m.type,class:m.errorClass,message:m.errorMessage,stacktrace:m.stacktrace}))});const t=document.location.pathname.replace(/(^\/|\/$)/g,""),n=()=>t.startsWith("signup")?0:vr()?2:1,o=t.split("/").slice(n()),[c="home",f]=o,u=c==="settings"&&f?f:c;let d;const h=s.errors.every(m=>m.stacktrace.every(({file:E})=>E.startsWith(Zi)||E.startsWith(es)||E.startsWith("global code")||E.startsWith("undefined")||E.startsWith("[native code]")));o.length<=1?d="index":f?f==="new"?d="new":/^\d+$/.test(f)?d="show":d="unknown":d="unknown",Qi(s),Wi(s),Gi(s),s.errors.forEach(m=>{m.errorClass=Yi(m,s.originalError)}),s.addMetadata("app",{adminAction:d,adminSection:u,adminNext:h})}function hs(s,t){const n=s.getRouteInfo();let o,c=t;for(;!o&&c;)o=ya(c),c=c.cause;const f=o?s.getRouteInfo(o):void 0,u=(f==null?void 0:f.sliceName)??(n==null?void 0:n.sliceName)??"unknown",d=o??(n==null?void 0:n.manifestRouteId)??"unknown",h=(f==null?void 0:f.pathPattern)??(n==null?void 0:n.pathPattern)??"unknown";return{sliceName:u,routeId:d,targetNormalizedPathname:h,callerSliceName:f?n==null?void 0:n.sliceName:void 0,callerRouteId:f?n==null?void 0:n.manifestRouteId:void 0,slice_name:u,slice_id:"unknown"}}function gs(s,t){let n=0;for(const o of s)(o.file===""||o.file===t||o.file==="global code")&&n++;return n}function ms(s,t){return t?s.filter((o,c)=>c<t.length&&t[c]):[]}async function Lr(s){var n;const{data:t}=await s.query(Sa,{variables:{betaNames:tr}});return ms(tr,(n=t==null?void 0:t.shop)==null?void 0:n.enabledFlags)}const Pe="admin_react_beta_flag_diagnostics";async function vs({isStoreList:s,enabledBetas:t,graphqlLite:n,isDevelopment:o}){return s?[]:t??await Lr(n)}const _s=F(async({url:s,ensure:t,graphqlLite:n,ensureSync:o,serverData:c,unified:f})=>{const u=!f.storeHandle&&!c.enabledBetas,d=q([]),h=q(await vs({isDevelopment:ut,isStoreList:u,enabledBetas:c.enabledBetas,graphqlLite:n})),m=ae(()=>Array.from(d.value.reduce((b,C)=>(b.has(C)?b.delete(C):b.add(C),b),new Set(h.value)))),E=ae(()=>new Set(m.value)),y=new qe;if(!u){const{requestDetails:b}=await t(["requestDetails"]),{isShopifyEmployee:C,isStaffShop:R}=b.shop;try{(C||R||mt(s.hostname)||ut)&&y.get(Pe)&&(d.value=Array.from(new Set([...String(y.get(Pe)).split(",").map(I=>rr(I)).filter(I=>I!==void 0)])))}catch{}}function _(b,C){const{router:R}=o(["router"]);if(R.revalidate(),b.filter(D=>!C.includes(D)).concat(C.filter(D=>!b.includes(D))).some(D=>Ea(D))){const{assets:D}=o(["assets"]);D.forceReloadAssets()}}return{async refetch(){const b=h.value;h.value=await Lr(n),_(h.value,b)},get overrides(){return d.value},get enabled(){return m.value},get(b){return E.value.has(b)},update(b){const C=h.value;h.value=b,_(b,C)},updateOverrides(b){const C=d.value,R=b.map(I=>rr(I)).filter(I=>I!==void 0);d.value=R,b.length>0?y.set(Pe,b.join(","),{path:"/"}):y.remove(Pe,{path:"/"}),_(b,C)},clearOverrides(){const b=d.value;d.value=[],y.remove(Pe,{path:"/"}),_([],b)}}}),Re="admin_react_permission_diagnostics",ys=F(async({url:s,ensure:t,ensureSync:n})=>{const{requestDetails:o}=await t(["requestDetails"]),c=q([]),f=q(o.permissions),u=ae(()=>{const y=Array.from(c.value.reduce((_,b)=>(_.has(b)?_.delete(b):_.add(b),_),new Set(f.value)));return new ba(y)}),{isShopifyEmployee:d,isStaffShop:h}=o.shop,m=new qe;try{if((d||h||mt(s.hostname)||ut)&&m.get(Re)){const y=String(m.get(Re)).split(",");c.value=y.filter(_=>u.value.include(_))}}catch{}function E(y,_){const{router:b}=n(["router"]);if(b.revalidate(),y.filter(R=>!_.includes(R)).concat(_.filter(R=>!y.includes(R))).some(R=>wa(R))){const{assets:R}=n(["assets"]);R.forceReloadAssets()}}return{get overrides(){return c.value},get enabled(){return u.value},include(y){return u.value.include(y)},missing(y){return u.value.missing(y)},update(y){const _=f.value;f.value=y,E(y,_)},updateOverrides(y){const _=c.value;c.value=y,y.length>0?m.set(Re,y.join(","),{path:"/"}):m.remove(Re,{path:"/"}),E(y,_)},clearOverrides(){const y=c.value;c.value=[],m.remove(Re,{path:"/"}),E([],y)}}}),{createHttpProducer:Ss,createLogProducer:Es}=Aa,Pr=Ss,bs=Es,lr="admin-web",Rr={detectInterceptedErrorEnabled:!0};function ws({debugMode:s=!1,production:t}={}){return t?Pr({production:t,options:Rr}):bs({debugMode:s})}class $e extends Error{constructor(...n){var o;super(...n);x(this,"name","MonorailProduceError");(o=Error.captureStackTrace)==null||o.call(Error,this,$e)}excludeProduceFromStackTrace(n){var o;(o=Error.captureStackTrace)==null||o.call(Error,this,n)}}function dr(s,t,n,o){const c=ws(s),f=Pr({production:!0,options:Rr}),u=({schemaId:h,payload:m,noop:E})=>{if(E)return Promise.resolve({});const y={schemaId:h,metadata:{client:lr},payload:{...t||{},...(n==null?void 0:n())||{},...m}};let _=c;fr.includes(h)&&!(s!=null&&s.production)&&!(s!=null&&s.debugMode)&&(_=f);const b=new $e;return b.excludeProduceFromStackTrace(u),_.produce(y).then(()=>{o==null||o("Monorail produce",{schemaId:h},"request")}).catch(C=>{throw o==null||o("Monorail produce",{error:!0,schemaId:h},"error"),C.cause=b,C.name=`${C.name}[${h}]`,C})},d=({events:h})=>{const m=h.map(_=>({..._,metadata:{client:lr},payload:{...t||{},...(n==null?void 0:n())||{},..._.payload||{}}})),E=m.filter(({schemaId:_})=>fr.includes(_)&&!(s!=null&&s.production)),y=new $e;return y.excludeProduceFromStackTrace(d),E.length>0?(s!=null&&s.debugMode&&c.produceBatch({events:m}),f.produceBatch({events:E}).catch(_=>{throw _.cause=y,_.name=`${_.name}[Batch]`,_})):c.produceBatch({events:m}).then(()=>{o==null||o("Monorail produce batch",{schemaIds:h.map(({schemaId:_})=>_)},"request")}).catch(_=>{throw o==null||o("Monorail produce batch",{error:!0,schemaIds:h.map(({schemaId:b})=>b)},"error"),_.cause=y,_.name=`${_.name}[Batch]`,_})};return{produce:u,produceBatch:d}}const fr=["dev_ui_tab_click/1.1","dev_ui_button_click/1.1","dev_ui_open/1.1","dev_ui_totally_click/1.0","dev_ui_drag/1.0"],As=()=>(Pa(Ra),Oa);function Ls({locale:s,requestDetails:t,router:n,errorLogger:o}){var y;const{shopId:c,isShopifyEmployee:f,shopifyEmployeeId:u}=t.shop??{},d={debugMode:As(),production:Ca};if(!c)return dr(d,E(),E,o.leaveBreadcrumb);const h=parseInt(((y=t.staffMember)==null?void 0:y.userId)||"",10)||void 0,m={locale:s,shopId:parseInt(c,10),shopifyEmployee:f,shopifyEmployeeId:u,shopUserId:h,tabId:La(),userId:h,...E()};function E(){return{manifestRouteId:n.getRouteInfo().manifestRouteId??"unknown",pageRequestId:n.navigationId,pageViewToken:n.pageViewToken}}return dr(d,m,E,o.leaveBreadcrumb)}const Ps=F(async({ensure:s})=>Ls(await s(["locale","requestDetails","router","errorLogger"]))),it="admin_react_search_eval_diagnostics",Rs=F(({url:s,ensure:t})=>{const n=q(!1);return t(["requestDetails"]).then(({requestDetails:o})=>{const c=new qe,{isShopifyEmployee:f}=o.shop;try{(f||mt(s.hostname))&&(n.value=String(c.get(it))==="1")}catch{}}).catch(o=>{}),{get searchRatingEnabled(){return n.value},toggleSearchRatingEnabled(){n.value=!n.value;const o=new qe;n.value?o.set(it,"1",{path:"/"}):o.remove(it,{path:"/"})}}}),Os={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"OrganizationContext"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"organization"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"featureSet"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"organizationPermissions"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"userLimits"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"enforced"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"maxAllowed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"used"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:162,source:{name:"GraphQL request",locationOffset:{line:1,column:1}}},id:"cff965b9063e6afb73c9ec882612e464e5f640b948363c521c789adc011308cb"},Or={enforced:!1,maxAllowed:0,used:0},Cs=F(async({ensure:s,errorLogger:t})=>{var c;const{shopFeatures:n,organizationGraphql:o}=await s(["shopFeatures","organizationGraphql"]);if(!n.hasOrgSettings&&!n.rbacEnabled)return null;try{const{data:f,error:u}=await o.query({query:Os,fetchPolicy:"network-only"});u&&t.notify(u);const d=f.organization,h=(c=d==null?void 0:d.currentUser)==null?void 0:c.organizationPermissions,m=(d==null?void 0:d.featureSet)||[],E=[],y=Ts(d);if(h){const _=Object.values(Ta);for(const b of h){const C=b.toUpperCase();_.includes(C)&&E.push(C)}}return{features:m,permissions:E,userLimits:y}}catch(f){if(gt(f)&&Is(f)){const{metrics:u}=await s(["metrics"]);return u.log("error","OrganizationContextAccessDeniedError",{message:f.message}),null}throw f}});function Ts(s){return s!=null&&s.userLimits?{enforced:!!s.userLimits.enforced,maxAllowed:s.userLimits.maxAllowed,used:s.userLimits.used}:Or}function Is(s){const{graphQLErrors:t}=s;return t?t.some(n=>{var o;if(((o=n.extensions)==null?void 0:o.code)==="ACCESS_DENIED")return!0}):!1}const Ns=F(()=>{const s=q(!1);function t(n){queueMicrotask(()=>{s.value=n})}return{get supportsContextualCommerce(){return s.value},setSupportsContextualCommerce:t}}),Ms=1e3*60*60*24,ks=1e3*60,Ds=F(({registerCleanup:s})=>{const t=q(!1),n=()=>{t.value=!0},o=Date.now(),c=setInterval(()=>{Date.now()-o>Ms&&(n(),clearInterval(c))},ks);return s(()=>{clearInterval(c)}),{get shouldReloadAssets(){return t.value},forceReloadAssets:n}}),xs=F(()=>{var o,c;const s=q(null),t=typeof window<"u"&&((c=(o=window.navigator)==null?void 0:o.userAgent)==null?void 0:c.includes("MobileBridge"));if(t){const f=qs(),u={register:d=>{_r(d),s.value=Oe(d),document.documentElement.setAttribute("mobile-bridge","true"),document.documentElement.setAttribute("mobile-bridge-platform",window.navigator.userAgent.toLowerCase().includes("android")?"android":"ios")}};f.expose(u),f.call.ready()}return{api:s,isSupported:t,supportsVersion:f=>{var u;return(((u=s.value)==null?void 0:u.version)??0)>=f}}});function qs(){const s=new WeakMap,t=window;return Na({postMessage(n){var o,c;(c=(o=t.ReactNativeWebView)==null?void 0:o.postMessage)==null||c.call(o,JSON.stringify({id:"MobileBridge",data:n}))},addEventListener(n,o){const c=async f=>{if(typeof f.data=="string")try{const{id:u,data:d}=JSON.parse(f.data);if(u!=="MobileBridge")return;await o({...f,data:d})}catch{}};s.set(o,c),window.addEventListener(n,c)},removeEventListener(n,o){const c=s.get(o);c!=null&&(s.delete(o),window==null||window.removeEventListener(n,c))}})}function Oe(s){return!s||typeof s!="object"?s:typeof s=="function"?(_r(s),async(...n)=>{const o=await s(...Oe(n));return Oe(o)}):Array.isArray(s)?s.map(Oe):Object.keys(s).reduce((t,n)=>({...t,[n]:Oe(s[n])}),{})}const Fs=F(s=>{const t=q({});return{get forms(){return t.value},registerForm(n){const o=s.router.getRouteId();o&&(t.value={[o]:{...t.value[o],[n.name]:n}})},get activeForms(){const n=s.router.getRouteId();return n?Object.values(t.value[n]??{}):[]}}}),$s=F(async({ensure:s})=>{const{requestDetails:t}=await s(["requestDetails"]),n=q(t.entitlements),o=q([]),c=ae(()=>{const u=Ma(n.value);return o.value.forEach(({path:d,value:h})=>ka(u,d,h)),u});return Us({entitlements:c,overrideHandlers:{get overrides(){return o.value},clearOverrides(){o.value=[]},updateOverride(u){const d=[...o.value],h=d.findIndex(({path:E})=>E===u.path),m=yr(n.value,u.path);h===-1&&u.value!==m?d.push(u):m===u.value&&h!==-1?d.splice(h,1):d[h]=u,o.value=d}}})});function Us({entitlements:s,overrideHandlers:t}){return new Proxy({},{get(n,o){return o in t?t[o]:yr(s.value,o)},ownKeys(){return[...Object.keys(s.value),...Object.keys(t)]},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}},has(n,o){return o in t||o in s.value}})}const Bs=F(()=>{const s=q(void 0),t=q(void 0),n=q(()=>{});function o(){s.value=void 0,t.value=void 0,n.value=()=>{}}return{get challengeUrl(){return s.value},get challengeTitleKey(){return t.value},startChallenge(c,f){return s.value=c,t.value=f,new Promise(u=>n.value=u)},endChallenge(c,f){if(n.value(c),c&&f){const u=Da(s.value);u&&window.location.assign(u)}o()}}}),Hs=F(({serverData:s,ensure:t})=>{const o=s.isUnifiedApp?"/logout":"/admin/auth/logout";return{async perform(){const{requestDetails:c,flags:f,errorLogger:u}=await t(["requestDetails","flags","errorLogger"]);if(c.shop.isStaffShop||f.get(pr)){const{deleteAllCaches:d}=await W(async()=>{const{deleteAllCaches:h}=await import("../context-slice-graphql-DcLCrrDYIdZM.js").then(m=>m.a2);return{deleteAllCaches:h}},__vite__mapDeps([3,2]));try{await d({lockAfterDelete:!0})}catch(h){u.notify(h)}}location.assign(o)}}}),js=F(async s=>{const{flags:t}=await s.ensure(["flags"]),n=ae(()=>t.enabled.includes(xa)),o=q(void 0),c=s.ensure(["extensibility"]).then(({extensibility:m})=>(o.value=m.host,m.host)),f=ae(()=>n.value&&o.value&&o.value.pluginApi.intents?o.value.pluginApi.intents.activities.value:[]),u=ae(()=>f.value.at(-1)),d=ae(()=>!!u.value);return{get enabled(){return n.value},activities:f,currentActivity:u,inActivity:d,invoke:async(...m)=>{var y;const E=await c;return await E.ready,(y=E.pluginApi.intents)==null?void 0:y.invoke(...m)}}});var ue,ce,le,ie,dt,Cr,ft;class Vs{constructor(t){Le(this,ie);Le(this,ue,new Map);Le(this,ce,new Map);Le(this,le,new Map);t&&this.register(t)}register(t){for(const[n,o]of Object.entries(t))U(this,ce).has(n)||U(this,le).has(n)||U(this,ue).has(n)||(typeof o=="function"?U(this,le).set(n,o):U(this,ce).set(n,ye(this,ie,dt).call(this,o)));return this}assert(t,n){if(typeof t=="string"){if(U(this,ce).has(t))return ye(this,ie,Cr).call(this,U(this,ce).get(t).assert.call(this,n));throw U(this,le).has(t)||U(this,ue).has(t)?new Error(`Mime type ${t} registered but not yet loaded. Make sure to call ensure() before asserting.`):new Error(`Mime type ${t} not registered.`)}if(typeof n=="object"&&n!=null&&!Array.isArray(n)){const o=[];for(const c in t){const f=t[c];let u;typeof f=="string"?u=this.assert(f,n[c]):(f.required!==!1||n[c]!=null)&&(u=this.assert(f.type??"",n[c])),u!=null&&!u.success&&o.push(...ye(this,ie,ft).call(this,u.errors).map(d=>(d.path.unshift(c),d)))}return o.length===0?{data:n,success:!0}:{errors:o,success:!1}}throw new Error("Invalid value")}async ensure(t){if(typeof t=="string"){if(U(this,ce).has(t))return this;if(U(this,le).has(t)){const n=U(this,le).get(t);U(this,le).delete(t),U(this,ue).set(t,n().then(({default:o})=>(U(this,ce).set(t,ye(this,ie,dt).call(this,o)),U(this,ue).delete(t),this)))}return U(this,ue).has(t)?U(this,ue).get(t):this}return await Promise.all(Object.values(t).map(n=>typeof n=="string"?this.ensure(n):this.ensure(n.type??""))),this}async ensureAndAssert(t,n){return await this.ensure(t),this.assert(t,n)}}ue=new WeakMap,ce=new WeakMap,le=new WeakMap,ie=new WeakSet,dt=function(t){return t instanceof Fe.ZodSchema?{assert:n=>t.safeParse(n)}:t},Cr=function(t){return t.success?t:{success:!1,errors:ye(this,ie,ft).call(this,"error"in t?t.error:t.errors)}},ft=function(t){return t instanceof Fe.ZodError?t.issues:Array.isArray(t)?t:[t]};const Gs=Fe.z.number().int();function pe(s){return{assert:t=>{const n=typeof t=="string"&&qa(t)&&Fa(t).toLowerCase()===s.toLowerCase();return n?{success:n,data:t}:{success:n,errors:[{path:[],code:"custom",message:`Expected a GID for ${s}. Got ${t}`}]}}}}const zs=pe("Collection"),Ks=pe("Customer"),Qs=pe("Experiment"),Xs=pe("Metafield"),Ws=pe("Metaobject"),Js=pe("MetaobjectDefinition"),Ys=pe("Product"),Zs=pe("ProductVariant"),eo=Fe.z.string(),to=F(()=>new Vs({"number/integer":Gs,"shopify/Collection+url":zs,"shopify/Customer+url":Ks,"shopify/Experiment+url":Qs,"shopify/Metafield+url":Xs,"shopify/Metaobject+url":Ws,"shopify/MetaobjectDefinition+url":Js,"shopify/Product+url":Ys,"shopify/ProductVariant+url":Zs,"text/plain":eo})),ro="en";async function no({createRouterPromise:s}){var c,f;const t=$a(),n=Ua(Ba(location.pathname)),o=Ha({mimeTypes:to,mobileBridge:xs,async extensibility(u){return W(()=>import("../context-slice-extensibility-B6zAJ1XLhi3u.js"),__vite__mapDeps([4,2])).then(d=>d.default(u))},intents:js,url:new Ka(location.hostname),browser:new ja({userAgent:((c=t==null?void 0:t.browser)==null?void 0:c.userAgent)??navigator.userAgent,supported:((f=t==null?void 0:t.browser)==null?void 0:f.supported)??!0}),locale:t.locale,async i18n({locale:u,ensure:d}){const{requestDetails:h,errorLogger:m}=await d(["requestDetails","errorLogger"]),{currencyCode:E,shopCountryCode:y,ianaTimezone:_}=h.shop;return new Ja({fallbackLocale:ro,locale:u,currency:E,country:y,timezone:_,onError:m.notify})},async router(u){const{default:d}=await W(async()=>{const{default:h}=await import("../router-BKsx5XGJJQi4.js").then(m=>m.eB);return{default:h}},__vite__mapDeps([1,2]));return d(u,s)},serverData:t,errorLogger:ds,urlDetails:t.urlDetails,performance:ni,instrumentation:si,flash:oi,loading:vi,globallyDismissedHomeItems:_i,statusPanel:yi,unified(){return{storeHandle:Wa(location.pathname)}},graphqlLite:mi,async graphql(u){return await u.ensure(["router","metrics"]),(await W(async()=>{const{default:d}=await import("../context-slice-graphql-DcLCrrDYIdZM.js").then(h=>h.a3);return{default:d}},__vite__mapDeps([3,2]))).default(u,{initialApolloData:t.initialApolloData})},async atlas(u){return u.ensure(["graphql"]),(await W(async()=>{const{default:d}=await import("../context-slice-atlas-BgqTQtz0GhND.js");return{default:d}},__vite__mapDeps([5,2]))).default(u)},contractManagementGraphql({requestDetails:{shop:u},graphql:d}){const h=tt((u==null?void 0:u.shopDomain)||"");return d.subclient({name:"contractManagement",apiEndpointPath:`/api/contractmanagement/${h}/${u==null?void 0:u.shopId}`})},verificationHubGraphql({requestDetails:{shop:u},graphql:d}){const h=tt((u==null?void 0:u.shopDomain)||"");return d.subclient({name:"verificationHub",apiEndpointPath:`/api/verificationhub/${h}/`})},async organizationGraphql({ensure:u}){const{shop:d,graphql:h}=await u(["shop","graphql"]),m=tt((d==null?void 0:d.shopDomain)||"");return h.subclient({name:"organizations",apiEndpointPath:`/api/organizations/${m}/${d==null?void 0:d.shopId}`})},async signupOrganizationsGraphql({ensure:u}){const{graphql:d}=await u(["graphql"]);return d.subclient({name:"organizations",apiEndpointPath:"/api/destinations"})},async requestedActionsGraphql({ensure:u}){const{graphql:d}=await u(["graphql"]);return d.subclient({name:"requestedActions",apiEndpointPath:"/api/requested_actions"})},bankingGraphql({serverData:u,unified:d,graphql:h}){const m="/admin/banking/graphql",E="/admin/internal/web/graphql/banking",y=u.isUnifiedApp;let _=E;return h.options.server?_=m:y&&(_=`/api/banking/${d.storeHandle}`),h.subclient({apiEndpointPath:_,name:"banking",defaultOptions:{query:{errorPolicy:"all",ssr:!1}},handleServerError(b){var I,D,H,K;if(!b)return!1;const C=(b==null?void 0:b.statusCode)||((I=b==null?void 0:b.response)==null?void 0:I.status),R=((D=b==null?void 0:b.result)==null?void 0:D.error)||((K=(H=b==null?void 0:b.result)==null?void 0:H.errors)==null?void 0:K.toString())||"";return C===404||C===403&&R!=="CSRF"}})},async experimentalBillingGraphql({ensure:u,unified:d}){const{shop:h,graphql:m}=await u(["shop","graphql"]);return m.subclient({name:"billing",apiEndpointPath:`/api/billing/shop/${h==null?void 0:h.shopId}?shop=${d.storeHandle}`})},async appStoreGraphql({ensure:u}){const{graphql:d}=await u(["graphql"]);return d.subclient({name:"appStore",apiEndpointPath:"/api/appStore/graphql"})},async merchantBankAccountGraphql({serverData:u,ensure:d}){const{shop:h,graphql:m}=await d(["shop","graphql"]),E=h==null?void 0:h.shopId,_=new URLSearchParams(location.search).get("businessEntityId"),b="/admin/merchant_bank_account/graphql",C="/admin/internal/web/graphql/merchant_bank_account",R=u.isUnifiedApp;let I=C;return m.options.server?I=b:R&&(I=_?`/api/merchant_bank_account/${E}/business_entity/${_}`:`/api/merchant_bank_account/${E}`),m.subclient({apiEndpointPath:I,name:"merchantBankAccount",defaultOptions:{query:{errorPolicy:"all",ssr:!1}},handleServerError(D){if(!D)return!1;const H=D.result.error||D.message||D.response.statusText;return D.statusCode===Xa.BadRequest&&H.includes("IMPERSONATION")?!1:[403,404].includes(D.statusCode)}})},async merchantRiskGraphql({serverData:u,unified:d,ensure:h}){const m="/admin/profile_assessment/graphql",E="/admin/internal/web/graphql/profile_assessment",{graphql:y}=await h(["graphql"]),_=u.isUnifiedApp;let b=E;return y.options.server?b=m:_&&(b=`/api/profile_assessment/${d.storeHandle}`),y.subclient({apiEndpointPath:b,name:"merchantRisk",defaultOptions:{query:{errorPolicy:"all",ssr:!1}},handleServerError(C){return C?[403,404].includes(C.statusCode):!1}})},async bourgeoisGraphql({serverData:u,unified:d,ensure:h}){const m=(await W(async()=>{const{default:R}=await import("../context-slice-graphql-schemas~bourgeois-schema-types-Bc_It6riGOdO.js");return{default:R}},[])).default,E="/admin/capital/graphql",y="/admin/internal/web/graphql/capital",_=u.isUnifiedApp;let b=y;const{graphql:C}=await h(["graphql"]);return C.options.server?b=E:_&&(b=`/api/capital/${d.storeHandle}`),C.subclient({apiEndpointPath:b,name:"bourgeois",defaultOptions:{query:{errorPolicy:"all",ssr:!1}},handleServerError(R){return R?[403,404].includes(R.statusCode):!1}},m)},headlessGraphql({serverData:u,unified:d,graphql:h}){const m="/admin/headless_storefronts/graphql",E="/admin/internal/web/graphql/headless_storefronts",y=u.isUnifiedApp;let _=E;return h.options.server?_=m:y&&(_=`/api/headless_storefronts/${d.storeHandle}`),h.subclient({apiEndpointPath:_,name:"headlessStorefronts",defaultOptions:{query:{errorPolicy:"all",ssr:!1}},handleServerError(b){return b?[403,404].includes(b.statusCode):!1}})},hydrogenGraphql({serverData:u,unified:d,graphql:h}){const m="hydrogen_storefronts",E=`/admin/${m}/graphql`,y=`/admin/internal/web/graphql/${m}`,_=u.isUnifiedApp;let b=y;return h.options.server?b=E:_&&(b=`/api/${m}/${d.storeHandle}`),h.subclient({apiEndpointPath:b,name:"hydrogenStorefronts",defaultOptions:{query:{errorPolicy:"all",ssr:!1}},cacheConfig:{typePolicies:{Query:{fields:{oxygenFeatureSet:{merge:!0}}}}},handleServerError(C){return C?[403,404].includes(C.statusCode):!1}})},signupGraphQL({graphql:u}){return u.subclient({name:"coreSignups",apiEndpointPath:"/api/signups"})},optionalCheckoutGraphQL({graphql:u}){const d=Qa(location.search);return u.subclient({name:"coreSignupQuestionnaire",apiEndpointPath:`/api/shopify/${d}`})},messagingApiGraphql({serverData:u,unified:d,graphql:h}){const m="messagingapi",E=`/admin/${m}/graphql`,y="/admin/internal/web/graphql/messaging_api",_=u.isUnifiedApp;let b=y;return h.options.server?b=E:_&&(b=`/api/${m}/${d.storeHandle}`),h.subclient({apiEndpointPath:b,name:"messagingApi",defaultOptions:{query:{errorPolicy:"all",ssr:!1}},handleServerError(C){return C?[402,403,404].includes(C.statusCode):!1}})},flags:_s,async shop({ensure:u,graphqlLite:d}){const{requestDetails:h}=await u(["requestDetails"]),m=h.shop;return Object.defineProperty(m,"refetch",{value:async()=>{const E=await nr(d,n);Object.assign(m,E.shop);const{router:y}=await u(["router"]);y.revalidate()},enumerable:!1,configurable:!1,writable:!1}),m},async shopFeatures({ensure:u}){const{requestDetails:d}=await u(["requestDetails"]);return d.shopFeatures},entitlements:$s,async requestDetails({serverData:u,unified:d,graphqlLite:h}){return u.requestDetails?u.requestDetails:d.storeHandle?await nr(h,n):{shop:{}}},permissions:ys,reportify:za,async newReportify(u){return(await W(async()=>{const{default:d}=await import("../context-slice-newReportify-C25NZmEmn5JR.js");return{default:d}},__vite__mapDeps([6,2]))).default(u)},async metrics(u){return(await W(async()=>{const{default:d}=await import("../context-slice-metrics-BWUs7LtuAZb4.js").then(h=>h.m);return{default:d}},__vite__mapDeps([7,2,3]))).default(u)},async manifestFetch(u){return(await W(async()=>{const{default:d}=await import("../context-slice-manifestFetch-DKxw7Bw_XCIb.js");return{default:d}},__vite__mapDeps([8,2]))).default(u)},monorail:Ps,slots:Ga,universalSidebar:Ei,searchEval:Rs,organization:Cs,async organizationFeatures({ensure:u}){const{organization:d}=await u(["organization"]);return(d==null?void 0:d.features)||[]},async organizationPermissions({ensure:u}){const{organization:d}=await u(["organization"]);return(d==null?void 0:d.permissions)||[]},async organizationUserLimits({ensure:u}){const{organization:d}=await u(["organization"]);return(d==null?void 0:d.userLimits)||Or},contextualCommerce:Ns,assets:Ds,forms:Fs,trustChallenge:Bs,logout:Hs});return await o.ensure(Va),o}Ya.defaults.domain=location.hostname;const xe=Za();let st;xe.status?Tr():ao({createAdminContext:no});async function ao({createAdminContext:s}){const t=W(()=>import("../router-BKsx5XGJJQi4.js").then(u=>u.eC),__vite__mapDeps([1,2])),n=W(()=>import("../render-common-DAO65Ch0D-RI.js").then(u=>u.lq),__vite__mapDeps([9,2,1,3,7,10]));let o,c;try{c=await s({createRouterPromise:t.then(({createRouter:u})=>u)})}catch(u){o=u}if(o){o&&setTimeout(()=>{throw o}),Tr(o);return}const{createAppRoot:f}=await n;if(!st)try{st=f(Ir())}catch(u){throw new Error("Cannot create app root",{cause:u})}st.render(c,xe==null?void 0:xe.isUnifiedApp)}async function Tr(s){const{createErrorAppRoot:t}=await W(async()=>{const{createErrorAppRoot:n}=await import("../render-common-DAO65Ch0D-RI.js").then(o=>o.lq);return{createErrorAppRoot:n}},__vite__mapDeps([9,2,1,3,7,10]));t(Ir(),s).render()}function io(){return new Error(`Document markup: ${document.body.innerHTML}`)}function Ir(){const s=document.getElementById("app");if(!s)throw new Error("App element not found",{cause:io()});return s}
//# sourceMappingURL=https://web-sourcemaps.shopify.io/v1/en/main-CEF8K3Vu.js.map
