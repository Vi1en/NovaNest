customElements.get("dbtfy-cart-notification")||customElements.define("dbtfy-cart-notification",class extends HTMLElement{constructor(){super(),this.blockId=this.dataset.blockId,this.img=this.querySelector(".dbtfy-cart-notification .dbtfy-cart-notification__img"),this.blockText=this.querySelector(".dbtfy-cart-notification .dbtfy-cart-notification__block--text .title"),this.closeIcon=this.dataset.closeIcon,this.colorScheme=this.dataset.colorScheme,this.customColorScheme=this.dataset.customColorScheme,this.showOnDeviceCheck=this.dataset.showOnDevice,this.testMode=Shopify.designMode,this.selectEvent=null,this.deselectEvent=null}disconnectedCallback(){this.testMode&&(this.toast?.destroyToast(),this.selectEvent(),this.deselectEvent())}connectedCallback(){this.testMode?(this.selectEvent=subscribe(PUB_SUB_EVENTS.cartNotificationSelect,e=>{this.toast=new Debutify.toast(this.innerHTML,{position:"bottom-center",closeIcon:this.closeIcon,colorScheme:this.colorScheme,customColorScheme:this.customColorScheme,maxWidth:"100%"})}),this.deselectEvent=subscribe(PUB_SUB_EVENTS.cartNotificationDeselect,e=>{this.toast?.hideToast()})):this.showOnDevice()&&(this.unsubscribe=subscribe(PUB_SUB_EVENTS.cartUpdate,e=>{e.source==="product-form"&&(this.img&&(this.img.src=e.cartData.featured_image.url),this.blockText.innerHTML=Debutify.replaceVariables(Debutify.widgets["cart-notification"].text,{product_title:e.cartData.product_title}),setTimeout(()=>{this.toast=new Debutify.toast(this.innerHTML,{position:"bottom-center",duration:3e3,closeIcon:this.closeIcon,colorScheme:this.colorScheme,customColorScheme:this.customColorScheme,maxWidth:"100%"})},500))}))}showOnDevice(){return this.showOnDeviceCheck==="both"||this.showOnDeviceCheck==="desktop-only"&&window.innerWidth>=750||this.showOnDeviceCheck==="mobile-only"&&window.innerWidth<750}});
//# sourceMappingURL=/s/files/1/0643/2004/5130/t/2/assets/dbtfy-cart-notification.js.map?v=9192578426544632111744962460
